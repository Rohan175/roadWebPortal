(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){e.exports=a.p+"static/media/emblem.cd8dce0c.svg"},129:function(e,t,a){e.exports=a.p+"static/media/ROHAN.f4318010.svg"},169:function(e,t){},205:function(e,t,a){e.exports=a.p+"static/media/empty.32735116.svg"},245:function(e,t,a){e.exports=a.p+"static/media/road.4565c56f.svg"},294:function(e,t,a){e.exports=a(513)},299:function(e,t,a){},513:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(37),i=a.n(l),r=(a(299),a(14)),s=a(15),c=a(17),p=a(16),d=a(18),m=a(173),u=a(97),h=a(174),g=a(96),f=a(3),E=a(8),C=a(10),b=a.n(C),v=a(20),y=a.n(v),O=a(22),w=a.n(O),D=a(113),S=a.n(D),x=Object(E.withStyles)(function(e){return{Card:{textAlign:"center",width:"270px"},logoWrapper:{position:"relative",marginTop:"20px"},logo:Object(f.a)({width:"70px",height:"auto"},e.breakpoints.up("md"),{display:"none"}),onMobile:Object(f.a)({display:"block"},e.breakpoints.up("md"),{display:"none"}),onDesk:Object(f.a)({display:"none"},e.breakpoints.up("md"),{display:"block"}),loginBtn:{marginTop:"20px",width:"200px"},forgotPasswordBtn:{marginTop:"20px",width:"200px"},textField:{}}})(function(e){var t=e.classes;return o.a.createElement("div",{className:t.Card},o.a.createElement("div",{className:t.logoWrapper},o.a.createElement("img",{src:S.a,className:t.logo}),o.a.createElement("h1",{style:{color:"#263238"},className:t.onDesk},"Welcome"),o.a.createElement("h5",{style:{color:"#263238"},className:t.onMobile},"Roads and Buildings")),o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.handleLogin(document.getElementById("phoneNo").value,document.getElementById("password").value)}},o.a.createElement("div",null,o.a.createElement(w.a,{id:"phoneNo",label:"Phone Number",fullWidth:!0,type:"text",min:"1000000000",max:"9999999999",className:t.textField,margin:"normal"})),o.a.createElement("div",null,o.a.createElement(w.a,{id:"password",label:"Password",type:"password",fullWidth:!0,error:!1,className:t.textField,margin:"small"})),o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",disabled:e.disableLogin,className:t.loginBtn},e.loginText))),o.a.createElement("div",null,o.a.createElement(b.a,{variant:"flat",className:t.forgotPasswordBtn,onClick:e.toForgotPassTab},"Forgot Password?")))}),P=a(33),_=a.n(P),j=a(58),k=a.n(j),N=a(57),A=a.n(N),T=a(149),R=a.n(T),M=a(52),F=a.n(M),I=function(e){return o.a.createElement(_.a,{open:e.openDialogState||!1,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(F.a,{id:"alert-dialog-title"},e.dialogTitle),o.a.createElement(A.a,null,o.a.createElement(R.a,{id:"alert-dialog-description"},e.dialogMsg)),o.a.createElement(k.a,null,e.children))},L="https://roadgrievancealpha.herokuapp.com",U=L+"/api/portal/",B=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var o=a[n];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return-1},G=function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var o="expires="+n.toUTCString();document.cookie=e+"="+t+";"+o+";"},W=function(e){return((e=new Date(e)).getDate()<10?"0"+e.getDate():e.getDate())+":"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+":"+e.getFullYear()},z=[["PENDING",!0],["APPROVED",!0],["REJECTED",!0],["IN PROGRESS",!0],["COMPLETED",!0]],V=[["DAMAGED BRIDGE( \u0a95\u0acd\u0ab7\u0aa4\u0abf\u0a97\u0acd\u0ab0\u0ab8\u0acd\u0aa4 \u0aac\u0acd\u0ab0\u0abf\u0a9c)",!0],["DAMAGED BRIDGE PARAPET(\u0a95\u0acd\u0ab7\u0aa4\u0abf\u0a97\u0acd\u0ab0\u0ab8\u0acd\u0aa4 \u0aac\u0acd\u0ab0\u0abf\u0a9c \u0aaa\u0ac7\u0aaa\u0ac7\u0a9f )",!0],["BREACH ON A ROAD(\u0ab0\u0acb\u0aa1 \u0aaa\u0ab0 \u0aad\u0ac0\u0aa1)",!0],["DAMAGED RAILING",!0],["SHARP CURVE",!0],["ACCIDENT PRONE ZONE",!0],["DAMAGE STRUCTURES",!0],["POT HOLES",!0],["FALLEN TREE",!0],["DEGREDED ROADS",!0],["CRACKS LEVELING",!0]],H=["Section Officer","Deputy Executive Engineer","Executive Engineer","Superintending Engineer","Chief Engineer","Secretary"],J=[["Section Officer","SO"],["Deputy Executive Engineer","DEE"],["Executive Engineer","EE"],["Superintending Engineer","SE"],["Chief Engineer","CE"],["Secretary","Secretary"]],Y=function(e,t){window.open("https://www.google.com/maps/dir/"+e+","+t,"_blank")},q=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={openDialog:!1,phonenumber:"",toLogin:!1,reset_name:"Reset Password"},a.handleDialogOpen=function(e,t){a.setState({openDialog:!0,dialogMsg:e,dialogTitle:t})},a.handleClose=function(){a.setState({openDialog:!1}),a.state.toLogin&&a.props.toLoginTab()},a.handleforgot=function(){10==a.state.phonenumber.length?(a.setState({reset_name:"PLEASE WAIT"}),fetch(U+"forgotPassword/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({phoneNo:a.state.phonenumber})}).then(function(e){return e.json()}).then(function(e){a.setState({reset_name:"Reset Password"}),e.success?(a.setState({toLogin:!0}),a.handleDialogOpen("Go to the link which has been messaged on "+a.state.phonenumber+" .","To reset your password ")):a.handleDialogOpen(e.data,"Error")}).catch(function(e){a.setState({reset_name:"Reset Password"}),console.log(e),a.handleDialogOpen(e,"Error Occur")})):a.handleDialogOpen("Phone number must contain 10 digits","Error")},a.handlechange=function(e){a.setState({phonenumber:e.target.value})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.Card},o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleClose,handleDialogOpen:this.handleDialogOpen},o.a.createElement(b.a,{onClick:this.handleClose},"OK")),o.a.createElement("div",{className:e.logoWrapper},o.a.createElement("h1",{style:{color:"#263238"}},"Forgot Password")),o.a.createElement("div",null,o.a.createElement(w.a,{id:"phoneNo",label:"Phone Number",type:"Number",value:this.state.phonenumber,onChange:this.handlechange,min:"1000000000",max:"9999999999",className:e.textField,margin:"normal"})),o.a.createElement("div",null,o.a.createElement(b.a,{type:"submit",disabled:"Reset Password"!=this.state.reset_name,variant:"contained",color:"primary",onClick:this.handleforgot,className:e.loginBtn},this.state.reset_name)),o.a.createElement("div",null,o.a.createElement(b.a,{variant:"flat",className:e.forgotPasswordBtn,onClick:this.props.toLoginTab},"Login")))}}]),t}(n.Component),K=Object(E.withStyles)(function(e){return{Card:{textAlign:"center",width:"270px"},logoWrapper:{position:"relative",marginTop:"20px"},logo:{width:"70px",height:"auto"},loginBtn:{marginTop:"20px",width:"200px"},forgotPasswordBtn:{marginTop:"20px",width:"200px"},textField:{width:"100%"}}})(q),Q=a(245),X=a.n(Q),Z=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={loginTab:!0,openDialog:!1,loginText:"Login",disableLogin:!1},a.toLoginTab=function(){a.setState({loginTab:!0})},a.toForgotPassTab=function(){a.setState({loginTab:!1})},a.handleDialogOpen=function(e,t){a.setState({openDialog:!0,dialogMsg:e,dialogTitle:t})},a.setCookie=function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var o="expires="+n.toUTCString();document.cookie=e+"="+t+";"+o+";"},a.handleClose=function(){a.setState({openDialog:!1})},a.handleLogin=function(e,t){if(a.setState({loginText:"Logging In ...",disableLogin:!0}),!e)return a.handleDialogOpen("Please enter phone number.","Error"),void a.setState({loginText:"Login",disableLogin:!1});e&&t&&t.length>=6&&t.length<12?fetch(U+"login/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({phoneNo:e,password:t})}).then(function(e){return e.json()}).then(function(e){console.log("Auth : ",e),e.success?(a.setCookie("roadGPortalAuth",e.data,1),a.setCookie("roadGPortalUserType",e.loginType,1),a.setCookie("roadGPortalRole",e.role,1),a.setCookie("roadGPortalPosts",JSON.stringify(e.posts),1),a.setCookie("roadGPortalCurrentPosts",JSON.stringify(e.posts[0]),1),a.setCookie("firstTimeLogin",!0,1),a.setCookie("isUpdated",e.isUpdated,1),a.props.setLogin(e.loginType),console.log("posts available",e.posts)):(a.handleDialogOpen(e.data,"Error"),a.setState({loginText:"Login",disableLogin:!1}))}).catch(function(e){console.log(e),a.handleDialogOpen(e+"","Error"),a.setState({loginText:"Login",disableLogin:!1})}):(a.handleDialogOpen("Password is required and it must be between 6 to 12 character","Error"),a.setState({loginText:"Login",disableLogin:!1}))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.wrapper},o.a.createElement("div",{className:e.hideOnMobile},o.a.createElement("div",{style:{width:"610px"}},o.a.createElement("img",{src:S.a,className:e.logo}),o.a.createElement("span",{style:{float:"right"}},o.a.createElement("h1",{className:e.title,style:{color:"#263238"}},"Roads & Buildings Department"),o.a.createElement("h2",{style:{color:"#263238",margin:"0px"}},"Government of Gujarat"))),o.a.createElement("img",{src:X.a,className:e.roadImage})),o.a.createElement(y.a,{className:e.paper},this.state.loginTab?o.a.createElement(x,{handleLogin:this.handleLogin,toForgotPassTab:this.toForgotPassTab,loginText:this.state.loginText,disableLogin:this.state.disableLogin}):o.a.createElement(K,{toLoginTab:this.toLoginTab})),o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleClose,handleDialogOpen:this.handleDialogOpen},o.a.createElement(b.a,{onClick:this.handleClose},"OK")))}}]),t}(n.Component),$=Object(E.withStyles)(function(e){return{wrapper:Object(f.a)({width:"100vw",height:"100vh",display:"flex"},e.breakpoints.up("md"),{display:"block"}),paper:Object(f.a)({padding:"20px",width:"270px",margin:"auto"},e.breakpoints.up("md"),{position:"absolute",right:"120px",top:"90px"}),roadImage:{width:"100vw",position:"fixed",bottom:"-260px",left:"-160px"},logo:{width:"50px",padding:"20px",margin:"40px 0px 40px 40px",display:"inline-block"},title:{padding:"0px",margin:"0px",marginTop:"60px"},hideOnMobile:Object(f.a)({display:"none"},e.breakpoints.up("md"),{display:"block"})}})(Z),ee=a(90),te=a(99),ae=a.n(te),ne=a(171),oe=a.n(ne),le=a(254),ie=a.n(le),re=a(253),se=a.n(re),ce=a(119),pe=a.n(ce),de=a(95),me=a(175),ue=a(79),he=a.n(ue),ge=a(30),fe=a.n(ge),Ee=a(5),Ce=a.n(Ee),be=a(31),ve=a.n(be),ye=a(248),Oe=a.n(ye),we=a(91),De=a(61),Se=a.n(De),xe=a(92),Pe=a.n(xe),_e=a(102),je=a.n(_e),ke=a(150),Ne=a.n(ke),Ae=a(115),Te=a.n(Ae),Re=a(247),Me=a.n(Re),Fe=a(202),Ie=a.n(Fe),Le=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(){a.props.onClose(-1)},a.handleListItemClick=function(e){a.props.selectedPost.post_id!=e.post_id?a.props.onClose(e):a.props.onClose(-1)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=(t.onClose,t.selectedValue,t.open),l=Object(we.a)(t,["classes","onClose","selectedValue","open"]);return console.log("changePost",n),o.a.createElement(_.a,Object.assign({onClose:this.handleClose,"aria-labelledby":"simple-dialog-title",open:n},l),o.a.createElement(F.a,{id:"simple-dialog-title"},"Change Post"),o.a.createElement("div",{className:a.Wrap},o.a.createElement(Pe.a,null,this.props.postLists.map(function(t){return o.a.createElement(je.a,{button:!0,style:{background:e.props.selectedPost.post_id===t.post_id?"rgba(0, 0, 255, 0.1)":""},onClick:function(){return e.handleListItemClick(t)},key:t},o.a.createElement(Ne.a,null,o.a.createElement(Se.a,{className:a.avatar},o.a.createElement(Me.a,null))),o.a.createElement(Te.a,{primary:t.post_id}))})),o.a.createElement("br",null),o.a.createElement(b.a,{onClick:function(){G("roadGPortalAuth",{},-1),G("firstTimeLogin",!1,-1),window.location.reload()},variant:"contained",color:"secondary",style:{minWidth:"100%",color:"white"}},"LOGOUT")))}}]),t}(o.a.Component),Ue=Object(E.withStyles)(function(e){return{avatar:{backgroundColor:Ie.a[100],color:Ie.a[600]},Wrap:Object(f.a)({minWidth:"350px"},e.breakpoints.down("xs"),{minWidth:"150px"})}})(Le),Be=a(157),Ge=a(126),We=a.n(Ge),ze=a(151),Ve=a.n(ze),He=a(152),Je=a.n(He),Ye=Object(E.withStyles)(function(e){return{}})(function(e){return o.a.createElement(Ve.a,{anchor:"top",open:e.openDrawer},o.a.createElement(We.a,{onClickAway:e.handleClickAway},o.a.createElement(Pe.a,{component:"nav"},e.menuItems.map(function(t,a){return o.a.createElement(Be.a,{to:t.path,key:a,style:{textDecoration:"none"},onClick:e.handleClickAway},o.a.createElement(je.a,{button:!0,disableRipple:!0},o.a.createElement(Je.a,null,o.a.createElement(t.icon,null)),o.a.createElement(Te.a,{primary:t.name})))}))))}),qe=Object(E.withStyles)(function(e){var t;return{appDesktop:(t={},Object(f.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(f.a)(t,e.breakpoints.up("md"),{display:"inline-flex"}),t),activeLink:{background:e.palette.secondary.main,color:"white","&:hover":{background:"white",color:"black"}}}})(function(e){var t=e.classes;return o.a.createElement("div",{className:t.appDesktop},e.menuItems.map(function(e,a){return o.a.createElement("div",{title:e.name,key:a,style:{marginRight:"4px"}},o.a.createElement(b.a,{variant:"text",size:"small",color:"inherit",activeClassName:t.activeLink,component:Be.a,to:e.path},o.a.createElement(Ce.a,{variant:"body2",color:"inherit"},e.name)))}))}),Ke=function(e){function t(){var e,a,n;Object(r.a)(this,t);for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state=(a={openDrawer:!1,selectedPost:"",openPostDialog:"true"==B("firstTimeLogin"),Redirect:!1,postList:JSON.parse(B("roadGPortalPosts"))},Object(f.a)(a,"selectedPost",JSON.parse(B("roadGPortalCurrentPosts"))),Object(f.a)(a,"openDialog",!1),a),n.handleMenuClick=function(){n.setState({openDrawer:!0})},n.handleClickAway=function(){n.setState({openDrawer:!1})},n.handleDialogOpen=function(e,t){n.setState({openDialog:!0,dialogMsg:e,dialogTitle:t})},n.handleDialogClose=function(){n.setState({openDialog:!1})},n.handleClosePostDialog=function(e){n.setState({openPostDialog:!1}),G("firstTimeLogin",!1,1),console.log("Post value",e),-1!=e&&fetch(U+"changePost/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"POST",body:JSON.stringify({post_id:e})}).then(function(e){return e.json()}).then(function(t){t.success?(console.log("cookie",e),G("roadGPortalAuth",t.data,1),G("roadGPortalUserType",t.loginType,1),G("roadGPortalRole",t.role,1),G("roadGPortalPosts",JSON.stringify(t.posts),1),G("roadGPortalCurrentPosts",JSON.stringify(e),1),G("firstTimeLogin",!1,1),n.setState({selectedPost:JSON.parse(B("roadGPortalCurrentPosts"))}),n.props.history.push("/")):(n.handleDialogOpen(t.data,"Error"),n.setState({loginText:"Login",disableLogin:!1}))}).catch(function(e){console.log(e),n.handleDialogOpen(e+"","Error"),n.setState({loginText:"Login",disableLogin:!1})})},n.handleOpenPostDialog=function(){n.setState({openPostDialog:!0})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.navBarItems;return console.log("Fuck off : ",typeof B("firstTimeLogin"),"true"==B("firstTimeLogin")),o.a.createElement(he.a,{position:"fixed",color:"inherit"},o.a.createElement(fe.a,{variant:"dense",className:e.Toolbar},o.a.createElement(Ce.a,{variant:"subheading",color:"inherit",className:e.grow},o.a.createElement(b.a,{component:de.a,style:{color:"black"},to:"/"},"Road ","&"," Building")),o.a.createElement("div",null,o.a.createElement(qe,{menuItems:t,handleOpenPostDialog:this.handleOpenPostDialog}),this.state.postList.length>1&&o.a.createElement(ve.a,{size:"small",color:"inherit",onClick:this.handleOpenPostDialog},o.a.createElement(pe.a,null)),o.a.createElement(ve.a,{className:e.appNavbar,color:"inherit",onClick:this.handleMenuClick},o.a.createElement(Oe.a,null)))),o.a.createElement(Ye,{menuItems:t,openDrawer:this.state.openDrawer,handleClickAway:this.handleClickAway}),o.a.createElement(Ue,{postLists:this.state.postList,selectedPost:this.state.selectedPost,open:this.state.postList.length>1&&this.state.openPostDialog,onClose:this.handleClosePostDialog}),o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleDialogClose,handleDialogOpen:this.handleDialogOpen},o.a.createElement(b.a,{onClick:this.handleDialogClose},"OK")))}}]),t}(n.Component),Qe=Object(me.a)(Object(E.withStyles)(function(e){return{Toolbar:{display:"flex",justifyContent:"space-between"},appNavbar:Object(f.a)({},e.breakpoints.up("md"),{display:"none"})}})(Ke)),Xe=a(160),Ze=a.n(Xe),$e=a(161),et=a.n($e),tt=a(198),at=a.n(tt),nt=a(199),ot=a.n(nt),lt=a(6),it=a.n(lt),rt=a(86),st=a.n(rt),ct=a(88),pt=a.n(ct),dt=a(87),mt=a.n(dt),ut=Object(E.withStyles)(function(e){return{Card:Object(f.a)({margin:"15px",height:"82%",position:"relative",color:"white",display:"flex",backgroundColor:"black",textDecoration:"none"},e.breakpoints.down("sm"),{margin:"5px",minWidth:"150px",height:"auto"}),CardButton:{width:"100%",backgroundColor:e.palette.primary.main,color:"white","&:hover":{backgroundColor:e.palette.primary.dark}},media:{objectFit:"cover"},primary:{backgroundColor:"rgba(0, 0, 255, 0.1)"},danger:{backgroundColor:"rgba(255, 0, 0, 0.1)"},alert:{backgroundColor:"rgba(155, 100, 0, 0.1)"},success:{backgroundColor:"rgba(0, 255, 0, 0.1)"}}})(function(e){var t=e.classes;return o.a.createElement(st.a,{in:e.startAnimation},o.a.createElement(y.a,{className:it()(t.Card,function(e){switch(e){case"primary":return t.primary;case"danger":return t.danger;case"alert":return t.alert;case"success":return t.success;default:return-1}}(e.CardColor)),component:Be.a,to:{pathname:e.link,state:{dashboardButton:e.CardName}}},o.a.createElement("div",{style:{margin:"auto"}},o.a.createElement(mt.a,null,o.a.createElement(Ce.a,{variant:"display1"},o.a.createElement(e.CardIcon,{fontSize:"large"})),o.a.createElement(Ce.a,{variant:"caption"},e.CardName),!e.fromAdmin&&o.a.createElement(Ce.a,{variant:"caption"},"Complaints"),o.a.createElement(Ce.a,{variant:"display2"},e.CardValue)),o.a.createElement(pt.a,null))))}),ht=a(197),gt=a.n(ht),ft=a(38),Et=Object(E.withStyles)(function(e){var t;return{imageClass:{},Card:Object(f.a)({minWidth:"250px",marginTop:"15px",height:"91%",position:"relative",color:"white",backgroundColor:"black"},e.breakpoints.down("sm"),{minWidth:"150px",margin:"5px"}),CardButton:{width:"100%",backgroundColor:e.palette.primary.main,color:"white","&:hover":{backgroundColor:e.palette.primary.dark}},media:{objectFit:"cover"},primary:{backgroundColor:"rgba(0, 0, 255, 0.1)"},danger:{backgroundColor:"rgba(255, 0, 0, 0.1)"},alert:{backgroundColor:"rgba(155, 100, 0, 0.1)"},success:{backgroundColor:"rgba(0, 255, 0, 0.1)"},uppderDiv:Object(f.a)({width:"100%",height:"50%",display:"flex",backgroundColor:"rgba(0, 0, 255, 0.3)",backgroundOpacity:"0.1"},e.breakpoints.down("sm"),{display:"none"}),lowerDiv:Object(f.a)({width:"100%",height:"50%",textAlign:"left",padding:"20px"},e.breakpoints.down("sm"),{display:"none"}),mobileCard:(t={},Object(f.a)(t,e.breakpoints.down("sm"),{display:"inline-block"}),Object(f.a)(t,"display","none"),t),numberWrapper:{display:"flex",width:"100%"},iconWrapper:{display:"flex",width:"100%"}}})(function(e){var t=e.classes;var a=JSON.parse(B("roadGPortalCurrentPosts")).post_id;return o.a.createElement(st.a,{in:e.startAnimation},o.a.createElement(y.a,{className:it()(t.Card,function(e){switch(e){case"primary":return t.primary;case"danger":return t.danger;case"alert":return t.alert;case"success":return t.success;default:return-1}}(e.CardColor))},o.a.createElement(de.a,{to:"/Dashboard/Complaints/Table",style:{textDecoration:"none"}},o.a.createElement("div",{className:t.uppderDiv},o.a.createElement("div",{className:t.numberWrapper},o.a.createElement(Ce.a,{variant:"display2",style:{margin:"auto auto 0px 0px",padding:"20px",color:"white",textDecoration:""}},e.CardValue)),o.a.createElement("div",{className:t.iconWrapper},o.a.createElement(Ce.a,{variant:"display1",style:{margin:"0px 0px auto auto",padding:"20px",color:"white"}},o.a.createElement(gt.a,{fontSize:"large"})),"                        ")),o.a.createElement("div",{className:t.lowerDiv},o.a.createElement(Ce.a,{variant:"title",style:{color:"rgba(0,0,0,0.54)"}},e.CardName," Complaints"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(Ce.a,{variant:"Subheading",style:{color:"rgba(0,0,0,0.54)"}},"Logged in as :"),o.a.createElement("br",null),o.a.createElement(ft.c,{title:a},o.a.createElement(Ce.a,{variant:"title",style:{color:"rgba(0,0,0,0.54)"}},a.length>15?a.slice(0,15)+"...":a))),o.a.createElement("div",{style:{margin:"auto"},className:t.mobileCard},o.a.createElement(mt.a,null,o.a.createElement(Ce.a,{variant:"display1"},o.a.createElement(e.CardIcon,{fontSize:"large"})),o.a.createElement(Ce.a,{variant:"caption"},e.CardName),o.a.createElement(Ce.a,{variant:"caption"},"Complaints"),o.a.createElement(Ce.a,{variant:"display2"},e.CardValue)),o.a.createElement(pt.a,null)))))}),Ct=Object(E.withStyles)(function(e){var t;return{imageClass:{},Card:Object(f.a)({margin:"15px",height:"91%",position:"relative",color:"white",backgroundColor:"black"},e.breakpoints.down("sm"),{margin:"5px",display:"inline-block",minWidth:"150px"}),CardButton:{width:"100%",backgroundColor:e.palette.primary.main,color:"white","&:hover":{backgroundColor:e.palette.primary.dark}},media:{objectFit:"cover"},primary:{backgroundColor:"rgba(0, 0, 255, 0.1)"},danger:{backgroundColor:"rgba(255, 0, 0, 0.1)"},alert:{backgroundColor:"rgba(155, 100, 0, 0.1)"},success:{backgroundColor:"rgba(0, 255, 0, 0.1)"},uppderDiv:Object(f.a)({width:"100%",height:"50%",display:"flex",backgroundColor:"rgba(255, 0, 0, 0.1)",backgroundOpacity:"0.1"},e.breakpoints.down("sm"),{display:"none"}),lowerDiv:Object(f.a)({width:"100%",height:"50%",textAlign:"left",padding:"20px"},e.breakpoints.down("sm"),{display:"none"}),mobileCard:(t={},Object(f.a)(t,e.breakpoints.down("sm"),{display:"inline-block"}),Object(f.a)(t,"display","none"),t),numberWrapper:{display:"flex",width:"100%"},iconWrapper:{display:"flex",width:"100%"}}})(function(e){var t=e.classes;return o.a.createElement(st.a,{in:e.startAnimation},o.a.createElement(y.a,{className:it()(t.Card,function(e){switch(e){case"primary":return t.primary;case"danger":return t.danger;case"alert":return t.alert;case"success":return t.success;default:return-1}}(e.CardColor))},o.a.createElement(de.a,{to:{pathname:"/Dashboard/Complaints/Table",state:{dashboardButton:e.CardName}},style:{textDecoration:"none"}},o.a.createElement("div",{className:t.uppderDiv},o.a.createElement("div",{className:t.numberWrapper},o.a.createElement(Ce.a,{variant:"display2",style:{margin:"auto auto 0px 0px",padding:"20px",color:"white",textDecoration:""}},e.CardValue))),o.a.createElement("div",{className:t.lowerDiv},o.a.createElement(Ce.a,{variant:"title",style:{color:"rgba(0,0,0,0.54)"}},e.CardName," Complaints")),o.a.createElement("div",{style:{margin:"auto"},className:t.mobileCard},o.a.createElement(mt.a,null,o.a.createElement(Ce.a,{variant:"display1"},o.a.createElement(e.CardIcon,{fontSize:"large"})),o.a.createElement(Ce.a,{variant:"caption"},e.CardName),o.a.createElement(Ce.a,{variant:"caption"},"Complaints"),o.a.createElement(Ce.a,{variant:"display2"},e.CardValue)),o.a.createElement(pt.a,null)))))}),bt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={startAnimation:!1,newComplaints:0,emergency:0,completed:0,pending:0,openUpdateDialog:!0,cardData:[{name:"New",value:10,icon:Ze.a,color:"primary"},{name:"Emergency",value:10,icon:et.a,color:"danger"},{name:"Pending",value:10,icon:at.a,color:"alert"},{name:"Completed",value:10,icon:ot.a,color:"success"}]},a.handleClose=function(){a.setState({openUpdateDialog:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=new Headers;t.append("origin","*"),t.append("auth","token "+B("roadGPortalAuth"));var a=new Request(U+"newComplaintsCount",{method:"GET",headers:t,mode:"cors"});fetch(a).then(function(e){return e.json()}).then(function(t){console.log(B("isUpdated")),t.success?e.setState({newComplaints:t.data.newComplaints,pending:t.data.pending,emergency:t.data.emergency,completed:t.data.completed,openUpdateDialog:"true"!=B("isUpdated")}):console.log(t)}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.setState({startAnimation:!0})}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.wrapper,style:{textAlign:"center"}},o.a.createElement("div",{className:e.dashboardwrapper},o.a.createElement("div",{className:e.cardRoot},o.a.createElement("div",{className:e.card1},o.a.createElement(Et,{startAnimation:this.state.startAnimation,CardIcon:this.state.cardData[0].icon,CardName:this.state.cardData[0].name,CardValue:this.state.newComplaints,CardColor:this.state.cardData[0].color})),o.a.createElement("div",{className:e.card2},o.a.createElement(Ct,{startAnimation:this.state.startAnimation,CardIcon:this.state.cardData[1].icon,CardName:this.state.cardData[1].name,CardValue:this.state.emergency,CardColor:this.state.cardData[1].color,link:"/Dashboard/Complaints/Table"})),o.a.createElement("div",{className:e.card3},o.a.createElement(ut,{startAnimation:this.state.startAnimation,CardIcon:this.state.cardData[2].icon,CardName:this.state.cardData[2].name,CardValue:this.state.pending,CardColor:this.state.cardData[2].color,link:"/Dashboard/Complaints/Table"})),o.a.createElement("div",{className:e.card4},o.a.createElement(ut,{startAnimation:this.state.startAnimation,CardIcon:this.state.cardData[3].icon,CardName:this.state.cardData[3].name,CardValue:this.state.completed,CardColor:this.state.cardData[3].color,link:"/Dashboard/Complaints/Table"})))))}}]),t}(n.Component),vt=Object(E.withStyles)(function(e){var t,a;return{wrapper:Object(f.a)({height:"100vh",display:"flex"},e.breakpoints.down("sm"),{marginTop:"-66px"}),dashboardwrapper:(t={marginTop:"120px"},Object(f.a)(t,e.breakpoints.down("sm"),{width:"auto",margin:"auto"}),Object(f.a)(t,"margin","auto"),t),cardRoot:(a={},Object(f.a)(a,e.breakpoints.down("sm"),{"grid-template-columns":"1fr 1fr","grid-template-rows":"30vh 30vh",margin:"0px"}),Object(f.a)(a,"marginTop","-30px"),Object(f.a)(a,"display","grid"),Object(f.a)(a,"margin","auto"),Object(f.a)(a,"grid-template-columns","2fr 1fr 1fr"),Object(f.a)(a,"grid-template-rows","30vh 30vh"),a),card1:Object(f.a)({"grid-column":"1/2",display:"inline-block","grid-row":"1/3"},e.breakpoints.down("sm"),{"grid-column":"1/2",display:"inline-block","grid-row":"1/2"}),card2:Object(f.a)({"grid-column":"2/4",display:"inline-block","grid-row":"1/2"},e.breakpoints.down("sm"),{"grid-column":"2/2",display:"inline-block","grid-row":"1/2"}),card3:Object(f.a)({"grid-column":"2/3",display:"inline-block","grid-row":"2/3"},e.breakpoints.down("sm"),{"grid-column":"1/2",display:"inline-block","grid-row":"2/2"}),card4:Object(f.a)({"grid-column":"3/4",display:"inline-block","grid-row":"2/3"},e.breakpoints.down("sm"),{"grid-column":"2/2",display:"inline-block","grid-row":"2/2"})}})(bt),yt=a(130),Ot=a(63),wt=a(59),Dt=a.n(wt),St=a(11),xt=a.n(St),Pt=a(48),_t=a.n(Pt),jt=a(127),kt=a.n(jt),Nt=a(162),At=a.n(Nt),Tt=a(167),Rt=a.n(Tt),Mt=a(40),Ft=a.n(Mt),It=a(103),Lt=a.n(It),Ut=a(80),Bt=a.n(Ut),Gt=a(73),Wt=a.n(Gt),zt=a(122),Vt=a.n(zt),Ht=a(89),Jt=a.n(Ht),Yt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={name:[],expandedDate:!1,expandedStatus:!1,expandedGriev:!1},a.handleExpandClick=function(e){a.setState(function(t){return Object(f.a)({},e,!t[e])})},a.handleChange=function(e){return function(t){a.setState(Object(f.a)({},e,t.target.value))}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=[];this.props.status_type_map.forEach(function(t,n){return a.push(o.a.createElement(Bt.a,{key:n,checked:t,value:n,onChange:e.props.handleChange("status_type_map"),control:o.a.createElement(Wt.a,null),label:n}))});var n=[];return this.props.griev_type_map.forEach(function(t,a){return n.push(o.a.createElement(Bt.a,{key:a,checked:t,value:a,onChange:e.props.handleChange("griev_type_map"),control:o.a.createElement(Wt.a,null),label:a}))}),o.a.createElement("div",null,o.a.createElement("div",{className:t.wrapperItem,style:{paddingRight:"0px"}},o.a.createElement("div",{className:t.alignLeft},o.a.createElement(w.a,{id:"outlined-name",style:{width:"100%"},label:"Search",className:t.textField,value:this.props.searchQuery,onChange:this.props.doSearch,margin:"normal",variant:"outlined"})),o.a.createElement("br",null),o.a.createElement(Ft.a,null)),o.a.createElement("div",{className:t.wrapperItem,style:{paddingRight:"0px"}},o.a.createElement("div",{className:t.alignLeft},o.a.createElement(Ce.a,{variant:"subheading"},"Only Emergency Complaints"),o.a.createElement(Wt.a,{style:{padding:"0px"},checked:!this.props.emergency_state,onChange:this.props.handleChange("emergency_state"),value:"emergency"})),o.a.createElement("br",null),o.a.createElement(Ft.a,null)),o.a.createElement("div",{className:t.wrapperItem},o.a.createElement("div",{className:t.alignLeft},o.a.createElement(Ce.a,{variant:"subheading"},"Complaint Status"),o.a.createElement(ve.a,{style:{padding:"0px"},className:it()(t.expand,Object(f.a)({},t.expandOpen,this.state.expandedStatus)),onClick:this.handleExpandClick.bind(this,"expandedStatus"),"aria-expanded":this.state.expandedStatus,"aria-label":"Show more"},o.a.createElement(Vt.a,null))),o.a.createElement("br",null),o.a.createElement(Ft.a,null),o.a.createElement(Jt.a,{in:this.state.expandedStatus,timeout:"auto"},o.a.createElement(Lt.a,null,a))),o.a.createElement("div",{className:t.wrapperItem},o.a.createElement("div",{className:t.alignLeft},o.a.createElement(Ce.a,{variant:"subheading"},"Grievance Type"),o.a.createElement(ve.a,{style:{padding:"0px"},className:it()(t.expand,Object(f.a)({},t.expandOpen,this.state.expandedGriev)),onClick:function(){return e.handleExpandClick("expandedGriev")},"aria-expanded":this.state.expandedGriev,"aria-label":"Show more"},o.a.createElement(Vt.a,null))),o.a.createElement("br",null),o.a.createElement(Ft.a,null),o.a.createElement(Jt.a,{in:this.state.expandedGriev,timeout:"auto"},o.a.createElement(Lt.a,null,n))),o.a.createElement("div",{className:t.wrapperItem},o.a.createElement("div",{className:t.alignLeft},o.a.createElement(Ce.a,{variant:"subheading",style:{textAlign:"left"}},"Date"),o.a.createElement(ve.a,{style:{padding:"0px"},className:it()(t.expand,Object(f.a)({},t.expandOpen,this.state.expandedDate)),onClick:function(){return e.handleExpandClick("expandedDate")},"aria-expanded":this.state.expandedDate,"aria-label":"Show more"},o.a.createElement(Vt.a,null))),o.a.createElement("br",null),o.a.createElement(Ft.a,null),o.a.createElement("br",null),o.a.createElement(Jt.a,{in:this.state.expandedDate,timeout:"auto"},o.a.createElement(kt.a,{utils:At.a},o.a.createElement(Ce.a,{variant:"caption"},"Starting Date"),o.a.createElement(Rt.a,{value:this.props.StartingDate,onChange:this.props.handleStartingDateChange})),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(kt.a,{utils:At.a},o.a.createElement(Ce.a,{variant:"caption"},"Ending Date"),o.a.createElement(Rt.a,{value:this.props.EndingDate,onChange:this.props.handleEndingDateChange}))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ft.a,{onClick:this.props.exportExcel,href:""}," Export Selected Data to Excel ")))}}]),t}(n.Component),qt=Object(E.withStyles)(function(e){return{expand:Object(f.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},alignLeft:{display:"flex",justifyContent:"space-between",verticalAlign:"middle"},wrapperItem:{marginLeft:"10px",marginRight:"10px",paddingLeft:"10px",paddingRight:"10px",paddingTop:"10px",paddingBottom:"10px",textAlign:"left"}}})(Yt),Kt=a(42),Qt=a.n(Kt),Xt=a(44),Zt=a.n(Xt),$t=a(13),ea=a.n($t),ta=a(43),aa=a.n(ta),na=a(46),oa=a.n(na),la=a(32),ia=a.n(la),ra=a(51),sa=a.n(ra),ca=a(116),pa=a.n(ca),da=a(98),ma=a.n(da),ua=a(168),ha=a.n(ua),ga=a(153),fa=a.n(ga),Ea=a(203),Ca=a.n(Ea),ba=a(204),va=a.n(ba),ya=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={activeStep:0},a.handleNext=function(){a.setState(function(e){return{activeStep:e.activeStep+1}})},a.handleBack=function(){a.setState(function(e){return{activeStep:e.activeStep-1}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(!this.props.postedUsers)return o.a.createElement("h1",null,"Sorry");var e=this.props,t=e.classes,a=e.theme,n=this.state.activeStep,l=this.props.postedUsers.length;return o.a.createElement("div",{className:t.root},o.a.createElement("img",{className:t.img,src:this.props.isCompleted?this.props.image:this.props.postedUsers[n].url,alt:this.props.postedUsers[n].userId}),o.a.createElement(y.a,{square:!0,elevation:0,className:t.header},o.a.createElement(Ce.a,{style:{textAlign:"left"}},this.props.isCompleted?"After Completion":"Description : "+this.props.postedUsers[n].description)),!this.props.isCompleted&&l>1&&o.a.createElement(fa.a,{steps:l,position:"static",activeStep:n,className:t.mobileStepper,nextButton:o.a.createElement(b.a,{size:"small",onClick:this.handleNext,disabled:n===l-1},"Next","rtl"===a.direction?o.a.createElement(Ca.a,null):o.a.createElement(va.a,null)),backButton:o.a.createElement(b.a,{size:"small",onClick:this.handleBack,disabled:0===n},"rtl"===a.direction?o.a.createElement(va.a,null):o.a.createElement(Ca.a,null),"Back")}))}}]),t}(o.a.Component),Oa=Object(E.withStyles)(function(e){return{root:{maxWidth:"80%",margin:"auto",textAlign:"center"},header:{display:"flex",alignItems:"center",minHeight:50,paddingLeft:4*e.spacing.unit,backgroundColor:e.palette.background.default,textAlign:"left"},img:{height:"auto",overflow:"hidden",display:"block",width:"100%"}}},{withTheme:!0})(ya);function wa(e){return o.a.createElement(sa.a,Object.assign({direction:"up"},e))}var Da=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={value:0,openSnackbarState:!1,snackbarMessage:"",snackbarVarient:"",comments:[],Comment:null,new_forword_complaint:"",show_new_complaint_status:a.props.ComplaintDialogData?a.props.ComplaintDialogData.complaint_status:"Pending",show_new_isEmergency:!!a.props.ComplaintDialogData&&a.props.ComplaintDialogData.isEmergency,new_complaint_status:a.props.ComplaintDialogData?a.props.ComplaintDialogData.complaint_status:"Pending",new_estimated_time:a.props.ComplaintDialogData?a.props.ComplaintDialogData.estimated_time:new Date,new_isEmergency:!!a.props.ComplaintDialogData&&a.props.ComplaintDialogData.isEmergency,srOfficerArray:[],rejection_resons:[]},a.handleIsEmergency=function(){a.setState(function(e){return{new_isEmergency:!e.new_isEmergency}})},a.handleChange=function(e){a.setState(Object(f.a)({Comment:""},e.target.name,e.target.value))},a.handleChangeComment=function(e){a.setState({Comment:e})},a.handleSnackbarClose=function(){a.setState({openSnackbarState:!1,snackbarMessage:"",snackbarVarient:{}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.ComplaintDialogData;console.log("-----"),console.log(t),this.setState({Comment:t?t.comments[0]:null,comments:t?t.comments:[],isCompleted:!!t&&"Completed"==t.complaint_status,new_complaint_status:t?t.complaint_status:"Pending",new_estimated_time:t&&t.estimated_completion?t.estimated_completion:new Date,new_isEmergency:!!t&&t.isEmergency})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.ComplaintDialogData;return o.a.createElement("div",null,o.a.createElement(_.a,{open:e.openComplaintDialogState,onClose:e.handleComplaintDialogClose,TransitionComponent:wa,className:t.ComplaintFullView},o.a.createElement(Ce.a,{variant:"subhading",style:{marginLeft:"20px",marginRight:"10px",marginTop:"10px",padding:"10px",textAlign:"left"}},a?a.name:null),o.a.createElement(xt.a,{container:!0,style:{padding:"10px"}},o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:t.paddingClass},o.a.createElement(Oa,{postedUsers:a?a.posted_users:null})),this.state.isCompleted&&o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:t.paddingClass},o.a.createElement(Oa,{isCompleted:!0,image:a?a.completed_complaint_url:"",postedUsers:a?a.posted_users:null})),this.state.isCompleted&&o.a.createElement(xt.a,{item:!0,xs:12,md:5,className:t.paddingClass,style:{margin:"20px",paddingLeft:"10px"}},o.a.createElement(Ce.a,null,"Emergency :   ".toUpperCase()+(a?this.state.show_new_isEmergency?"YES":"NO":null)),o.a.createElement("br",null),o.a.createElement(Ce.a,null,"Grievance :   ".toUpperCase()+(a?a.griev_type:null)," ",o.a.createElement(b.a,{color:"secondary",size:"small",style:{float:"right",display:"none"}},"view on map")),o.a.createElement("br",null),o.a.createElement(Ce.a,null,"Status :   ".toUpperCase()+(a?this.state.show_new_complaint_status:null))),o.a.createElement(xt.a,{item:!0,xs:12,md:5,className:t.paddingClass,style:{paddingLeft:"35px",paddingTop:"20px"}},!this.state.isCompleted&&o.a.createElement("div",null,o.a.createElement(Ce.a,null,"Emergency :   ".toUpperCase()+(a?this.state.show_new_isEmergency?"YES":"NO":null)),o.a.createElement("br",null),o.a.createElement(Ce.a,null,"Grievance :   ".toUpperCase()+(a?a.griev_type:null)," ",o.a.createElement(b.a,{color:"secondary",size:"small",style:{float:"right",display:"none"}},"view on map")),o.a.createElement("br",null),o.a.createElement(Ce.a,null,"Status :   ".toUpperCase()+(a?this.state.show_new_complaint_status:null)),o.a.createElement("br",null)),o.a.createElement(Ce.a,null,"Date :   ".toUpperCase()+(a?new Date(a.time).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):null)),this.state.new_estimated_time?o.a.createElement(Ce.a,null,o.a.createElement("br",null),"Estimated Date :   ".toUpperCase()+W(this.state.new_estimated_time)):null,o.a.createElement("br",null),o.a.createElement(b.a,{variant:"outlined",size:"small",style:{width:"100%"},onClick:function(){Y.apply(void 0,Object(ee.a)(a?a.location:[1,2]))},color:"secondary"},"SHOW ON MAP")))),o.a.createElement(pa.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.openSnackbarState,autoHideDuration:5e3,onClose:this.handleSnackbarClose,ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",{id:"message-id"},this.state.snackbarMessage)}))}}]),t}(n.Component),Sa=Object(E.withStyles)(function(e){return{root:{flexGrow:1},ComplaintFullView:{padding:"20px"},appBar:{position:"relative"},flex:{flex:1},alignCenter:{textAlign:"center",margin:"auto"},paddingClass:{},snackbar:{background:e.palette.primary.light},textField:{width:"100%"},textWrapper:{padding:"10px"},formControl:{minWidth:280},success:{backgroundColor:ma.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:ha.a[700]}}})(Da),xa=a(39),Pa=a(64),_a=a.n(Pa),ja=a(104),ka=a(66),Na=a.n(ka),Aa=a(49),Ta=a.n(Aa),Ra=a(60),Ma=a.n(Ra),Fa=a(68),Ia=a.n(Fa),La=a(67),Ua=a.n(La),Ba=a(35),Ga=a.n(Ba),Wa=a(53),za=a.n(Wa),Va=a(249),Ha=a.n(Va);function Ja(e){return o.a.createElement(sa.a,Object.assign({direction:"up"},e))}var Ya=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){console.log("--------------------------------------------------"),console.log("History",this.props.open)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data;return o.a.createElement(_.a,{open:this.props.open,maxWidth:"lg",className:t.dialog,onClose:this.props.onClose,TransitionComponent:Ja},o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement(Qt.a,{className:t.table},o.a.createElement(aa.a,null,o.a.createElement(ia.a,null,o.a.createElement(ea.a,null,"Date"),o.a.createElement(ea.a,null,"Operation"),o.a.createElement(ea.a,null,"Comment By Officer"),o.a.createElement(ea.a,null,"Under"))),o.a.createElement(Zt.a,null,a.map(function(e,t){return[o.a.createElement(ia.a,null,o.a.createElement(ea.a,null,e.time),o.a.createElement(ea.a,{style:{maxWidth:"200px"}},e.complaint_operation),o.a.createElement(ea.a,null,e.complaint_comment),o.a.createElement(ea.a,null,e.changes_by.name))]})))))}}]),t}(n.Component),qa=Object(E.withStyles)(function(e){return{dialog:{},table:{}}})(Ya);function Ka(e){return o.a.createElement(sa.a,Object.assign({direction:"up"},e))}var Qa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={comment:"",comment_error:null,comment_helper_text:""},a.handleComment=function(e){a.setState({Comment:e.target.value}),a.props.handleChangeComment(e.target.value)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.textField;return o.a.createElement(w.a,{id:"Comment",label:"Remark",multiline:!0,shrink:"true",value:e.comment,error:this.state.comment_error,helperText:this.state.comment_helper_text,rows:e.lines,onChange:this.handleComment,className:t,style:{margin:"0px"},margin:"normal"})}}]),t}(n.Component),Xa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={value:0,history_name:"HISTORY",openSnackbarState:!1,snackbarMessage:"",snackbarVarient:"",comments:[],Comment:null,new_forword_complaint:"",show_new_complaint_status:a.props.ComplaintDialogData?a.props.ComplaintDialogData.complaint_status:"Pending",show_new_isEmergency:!!a.props.ComplaintDialogData&&a.props.ComplaintDialogData.isEmergency,new_complaint_status:a.props.ComplaintDialogData?a.props.ComplaintDialogData.complaint_status:"Pending",new_estimated_time:a.props.ComplaintDialogData?a.props.ComplaintDialogData.estimated_time:new Date,new_isEmergency:!!a.props.ComplaintDialogData&&a.props.ComplaintDialogData.isEmergency,isComplted:!!a.props.ComplaintDialogData&&"Completed"==a.props.ComplaintDialogData.complaint_status,srOfficerArray:[],rejection_resons:[],fileUploadBtn:"Upload Image",fileUploadBtnColor:"",fileUploadName:"",uploadFile:"",isRetry:!1,isSaving:!1,history_open:!1,history:[]},a.handleIsEmergency=function(){a.setState(function(e){return{new_isEmergency:!e.new_isEmergency}})},a.handleChange=function(e){a.setState(Object(f.a)({Comment:""},e.target.name,e.target.value))},a.handleChangeComment=function(e){a.setState({Comment:e})},a.handleSave=function(){if("Rejected"!=a.state.new_complaint_status||""!=a.state.Rejection_Reason&&null!=a.state.Rejection_Reason)if(""!=a.state.Comment&&null!=a.state.Comment){Date.prototype.withoutTime=function(){var e=new Date(this);return e.setHours(0,0,0,0),e};var e=new Date;a.setState({new_estimated_time:new Date(a.state.new_estimated_time)},Object(ja.a)(_a.a.mark(function t(){var n,o;return _a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a.state.new_estimated_time),a.state.new_estimated_time.withoutTime()<e.withoutTime()&&a.setState({openSnackbarState:!0,snackbarMessage:"Invalid Date",snackbarStyle:{backgroundColor:ma.a[600],display:"flex"}}),n=function(){var e=Object(ja.a)(_a.a.mark(function e(){var t,n;return _a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},"Completed"!=a.state.new_complaint_status){e.next=6;break}return e.next=4,a.handleFileFetch(a.state.uploadFile);case 4:(n=e.sent).success&&(t.completed_complaint_url=n.data);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),a.setState({isSaving:!0}),t.t0=xa.a,t.t1={complaint_id:a.props.ComplaintDialogData._id,complaint_status:a.state.new_complaint_status,isEmergency:a.state.new_isEmergency,comment:a.state.Comment,completed_complaint_url:""},t.next=8,n();case 8:t.t2=t.sent,o=(0,t.t0)(t.t1,t.t2),fetch(U+"updateComplaint/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"POST",body:JSON.stringify(o)}).then(function(e){return e.json()}).then(function(e){e.success&&(a.setState({openSnackbarState:!0,snackbarMessage:"Complaint has been updated",show_new_complaint_status:o.complaint_status,show_new_isEmergency:o.isEmergency,isSaving:!1,Comment:""}),o.completed_complaint_url=L+"/api/android/image/"+o.completed_complaint_url,a.props.handleIndividualComplaintChange(o,!1),"Completed"==a.state.new_complaint_status&&a.props.handleComplaintDialogClose())}).catch(function(e){console.log(e),a.setState({openSnackbarState:!0,snackbarMessage:e.message,isSaving:!1,Comment:""})});case 11:case"end":return t.stop()}},t)})))}else a.setState({openSnackbarState:!0,snackbarMessage:"Please Enter Remark",snackbarStyle:{backgroundColor:ma.a[600],display:"flex"}});else a.setState({openSnackbarState:!0,snackbarMessage:"Please select a rejection reason",snackbarStyle:{backgroundColor:ma.a[600],display:"flex"}})},a.handleForeword=function(){""!=a.state.Comment&&null!=a.state.Comment?(a.setState({isSaving:!0}),fetch(U+"forewordComplaint/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"POST",body:JSON.stringify({officerId:a.state.new_forword_complaint,complaint_id:a.props.ComplaintDialogData._id})}).then(function(e){return e.json()}).then(function(e){console.log("foreword complaint response",e),a.props.handleIndividualComplaintChange(a.props.ComplaintDialogData,!0),e.success&&(a.setState({openSnackbarState:!0,snackbarMessage:"Complaint is now forwarded",isSaving:!1}),a.props.handleComplaintDialogClose())}).catch(function(e){console.log(e),a.setState({openSnackbarState:!0,snackbarMessage:e.message,isSaving:!1})})):a.setState({openSnackbarState:!0,snackbarMessage:"Please Enter comment",snackbarStyle:{backgroundColor:ma.a[600],display:"flex"}})},a.handleTabChange=function(e,t){a.setState({value:t}),a.setState({Comment:""})},a.handleSnackbarClose=function(){a.setState({openSnackbarState:!1,snackbarMessage:"",snackbarVarient:{}})},a.handleFileFetch=function(){var e=Object(ja.a)(_a.a.mark(function e(t){var a;return _a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.next=4,fetch(L+"/api/android/image",{headers:{Accept:"application/json"},method:"POST",body:a}).then(function(e){return e.json()});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleFileUpload=Object(ja.a)(_a.a.mark(function e(){var t;return _a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("input")).onchange=function(e){var n=t.value.split("\\");if(n=n.pop(),console.log("file : ",t.files[0].size),t.files[0].size>3e5)a.setState({openSnackbarState:!0,snackbarMessage:"File Size must not exceed 300kb"});else{var o=t.files[0].slice(0,t.files[0].size,"image/jpg"),l=new File([o],function(e){var t=new Date(e);return"IMG_"+t.getDate()+(t.getMonth()+1)+t.getFullYear()+"_"+t.getHours()+t.getMinutes()+t.getSeconds()+".jpg"}(new Date),{type:"image/jpg"});a.setState({isRetry:!0,fileUploadBtn:"File Selected",fileUploadBtnColor:"green"}),a.setState({uploadFile:l})}},t.accept="image/*",t.type="file",t.click();case 5:case"end":return e.stop()}},e)})),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"read",value:function(){var e=this;fetch(U+"manage/rejections/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then(function(e){return e.json()}).then(function(t){t.success?e.setState({rejection_resons:t.data}):(console.log("Err",t.data),alert(t.data))}).catch(function(e){console.log("new errre",e)})}},{key:"componentWillMount",value:function(){var e=this;console.log("will mount"),fetch(U+"getSrIdsForeword/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"GET"}).then(function(e){return e.json()}).then(function(t){console.log("Foreword Complaints",t),t.success&&e.setState({srOfficerArray:t.data})}).catch(function(t){console.log(t),e.setState({openSnackbarState:!0,snackbarMessage:t.message})})}},{key:"componentDidMount",value:function(){console.log("Did mount"),this.read()}},{key:"componentWillReceiveProps",value:function(e){console.log("will receive props",this.props.ComplaintDialogData);var t=e.ComplaintDialogData,a={fileUploadBtn:"Upload Image",fileUploadBtnColor:"",fileUploadName:"",uploadFile:"",isRetry:!1,Comment:"",comments:t?t.comments:[],show_new_complaint_status:t?t.complaint_status:"Pending",show_new_isEmergency:!!t&&t.isEmergency,isComplted:!!t&&"Completed"==t.complaint_status,new_complaint_status:t?t.complaint_status:"Pending",new_estimated_time:t&&t.estimated_completion?t.estimated_completion:new Date,new_isEmergency:!!t&&t.isEmergency};console.log(e,this.props.ComplaintDialogData,e.ComplaintDialogData!=this.props.ComplaintDialogData),null!=e.ComplaintDialogData&&e.ComplaintDialogData!=this.props.ComplaintDialogData&&(console.log("if called"),a.history=[],a.value=0),console.log(">>>>>",this.props.ComplaintDialogData?this.props.ComplaintDialogData.complaint_status:""),console.log("-----"),console.log("ComplaintDialogDta: ",t),this.setState(Object(xa.a)({},a))}},{key:"render",value:function(){var e=this;console.log(this.state);var t=this.props,a=t.classes,n=t.ComplaintDialogData,l=function(t){return o.a.createElement("div",null,o.a.createElement(Ce.a,null,"Emergency :   ".toUpperCase()+(t?e.state.show_new_isEmergency?"YES":"NO":null)),o.a.createElement("br",null),o.a.createElement(za.a,{title:t?"Location : "+t.location.join(","):""},o.a.createElement(b.a,{variant:"outlined",size:"small",style:{width:"70%"},onClick:function(){Y.apply(void 0,Object(ee.a)(t?t.location:[1,2]))},color:"secondary"},"SHOW ON MAP")),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(b.a,{variant:"outlined",disabled:"HISTORY"!=e.state.history_name,size:"small",style:{width:"70%"},onClick:function(){e.setState({history_name:"FETCHING HISTORY.."}),fetch(U+"getComplaintHistory/?complaint_id="+e.props.ComplaintDialogData._id,{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"GET"}).then(function(e){return e.json()}).then(function(t){console.log("kaushik",t),t.success&&null!=t.data&&e.setState({history:t.data,history_open:!0,history_name:"HISTORY"})}).catch(function(t){e.setState({history_name:"HISTORY"}),console.log(t)})},color:"secondary"},e.state.history_name))};return o.a.createElement("div",null,o.a.createElement(_.a,{fullScreen:!0,open:t.openComplaintDialogState,onClose:t.handleComplaintDialogClose,TransitionComponent:Ka,className:a.ComplaintFullView},o.a.createElement(he.a,{className:a.appBar,color:"inherit"},o.a.createElement(fe.a,null,o.a.createElement(ve.a,{color:"inherit",onClick:t.handleComplaintDialogClose,"aria-label":"Close"},o.a.createElement(_t.a,null)))),o.a.createElement(xt.a,{container:!0,style:{paddingRight:"10px"}},o.a.createElement(xt.a,{item:!0,xs:12,md:4,className:a.paddingClass},o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,xs:12},o.a.createElement(Oa,{postedUsers:n?n.posted_users:null})),o.a.createElement(xt.a,{item:!0,xs:12},o.a.createElement("br",null),o.a.createElement(Ce.a,{variant:"subhading",style:{textAlign:"center"}},n?n.name:null)))),o.a.createElement(xt.a,{item:!0,xs:12,md:8,className:a.paddingClass},o.a.createElement(xt.a,{container:!0},this.state.isComplted&&o.a.createElement(xt.a,{xs:12,md:!0},o.a.createElement(Oa,{isCompleted:!0,image:n?n.completed_complaint_url:"",postedUsers:n?n.posted_users:null})),o.a.createElement(xt.a,{item:!0,xs:12,md:!0},o.a.createElement(Ce.a,null,"Grievance :   ".toUpperCase()+(n?n.griev_type:null)," ",o.a.createElement(b.a,{color:"secondary",size:"small",style:{float:"right",display:"none"}},"view on map")),o.a.createElement("br",null),o.a.createElement(Ce.a,null,"Status :   ".toUpperCase()+(n?this.state.show_new_complaint_status:null)),o.a.createElement("br",null),o.a.createElement(Ce.a,null,"Date :   ".toUpperCase()+(n?new Date(n.time).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):null)),this.state.new_estimated_time?o.a.createElement(Ce.a,null,o.a.createElement("br",null),"Estimated Date :   ".toUpperCase()+W(this.state.new_estimated_time)):null,o.a.createElement("br",null),this.state.isComplted&&l(n)),!this.state.isComplted&&o.a.createElement(xt.a,{xs:12,md:!0},l(n))),o.a.createElement("br",null),o.a.createElement(y.a,{className:a.root,style:{display:1==this.state.isComplted?"none":"block"}},o.a.createElement(Na.a,{value:this.state.value,onChange:this.handleTabChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(Ta.a,{label:"UPDATE"}),B("roadGPortalRole")!==H[H.length-1]&&o.a.createElement(Ta.a,{label:"FORWARD COMPLAIN"}))),o.a.createElement(Ft.a,{style:{display:1==this.state.isComplted?"none":"block"}}),0==this.state.value&&o.a.createElement(y.a,{style:{display:1==this.state.isComplted?"none":"block"}},o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,xs:12,md:!0,className:a.textWrapper},o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,xs:12,className:a.textWrapper},o.a.createElement(Bt.a,{checked:this.state.new_isEmergency,onChange:this.handleIsEmergency,value:"isEmergency",control:o.a.createElement(Wt.a,null),label:"Mark Complaint as Emergency"})),o.a.createElement(xt.a,{item:!0,xs:12,className:a.textWrapper},o.a.createElement(Ma.a,{className:a.formControl},o.a.createElement(Ua.a,{htmlFor:"new_complaint_status"},"Change Complaint Status"),o.a.createElement(Ia.a,{value:this.state.new_complaint_status,onChange:this.handleChange,inputProps:{name:"new_complaint_status",id:"new_complaint_status"}},this.props.ComplaintDialogData&&"Pending"===this.props.ComplaintDialogData.complaint_status&&[o.a.createElement(Ga.a,{value:"Pending",disabled:!0},"Pending"),o.a.createElement(Ga.a,{value:"Approved"},"Approve"),o.a.createElement(Ga.a,{value:"Rejected"},"Reject")],this.props.ComplaintDialogData&&"Approved"===this.props.ComplaintDialogData.complaint_status&&[o.a.createElement(Ga.a,{value:"Approved",disabled:!0},"Approved"),o.a.createElement(Ga.a,{value:"Rejected"},"Reject"),o.a.createElement(Ga.a,{value:"In Progress"},"In Progress")],this.props.ComplaintDialogData&&"Rejected"===this.props.ComplaintDialogData.complaint_status&&[o.a.createElement(Ga.a,{value:"Rejected"},"Rejected"),o.a.createElement(Ga.a,{value:"Approved"},"Approve")],this.props.ComplaintDialogData&&"In Progress"===this.props.ComplaintDialogData.complaint_status&&[o.a.createElement(Ga.a,{value:"In Progress"},"In Progress"),o.a.createElement(Ga.a,{value:"Completed"},"Complete")]))))),o.a.createElement(xt.a,{item:!0,xs:12,md:!0,className:a.textWrapper},o.a.createElement(Qa,{comment:this.state.Comment,handleChangeComment:this.handleChangeComment,textField:a.textField,lines:5}))),o.a.createElement(xt.a,{item:!0,xs:12,md:!0,className:a.textWrapper},"Completed"==this.state.new_complaint_status&&o.a.createElement(b.a,{onClick:this.handleFileUpload,variant:"contained",color:"primary",style:{marginRight:"10px",marginBottom:"20px",backgroundColor:this.state.fileUploadBtnColor,color:"white"}},this.state.fileUploadBtn,o.a.createElement(Ha.a,{style:{marginLeft:"10"}})),"Completed"==this.state.new_complaint_status&&this.state.isRetry&&o.a.createElement(b.a,{onClick:this.handleFileUpload,variant:"contained",color:"primary",style:{backgroundColor:"red",marginBottom:"20px",color:"white"}},"Retry"),"Rejected"==this.state.new_complaint_status&&o.a.createElement("div",null,o.a.createElement(Ma.a,{style:{marginLeft:"10px",width:"70%"},className:a.formControl},o.a.createElement(Ua.a,{htmlFor:"Rejection_Reason",shrink:!0},"Rejection Reason"),o.a.createElement(Ia.a,{value:this.state.Rejection_Reason,onChange:this.handleChange,inputProps:{name:"Rejection_Reason",id:"Rejection_Reason"},fullWidth:!0},this.state.rejection_resons.map(function(e,t){return o.a.createElement(Ga.a,{key:t,value:e.name},e.name)}))),o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement(b.a,{variant:"raised",onClick:this.handleSave,style:{width:"100%",color:"white"},color:"secondary",disabled:this.state.isSaving},this.state.isSaving?"Saving...":"Save"))),B("roadGPortalRole")!==H[H.length-1]&&1==this.state.value&&o.a.createElement(y.a,{style:{padding:"10px",textAlign:"center",display:1==this.state.value?"":"none"}},o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,xs:12,md:!0,className:a.textWrapper},o.a.createElement("br",null),o.a.createElement(Ma.a,{style:{width:"100%"},className:a.formControl},o.a.createElement(Ua.a,{htmlFor:"new_forword_complaint"},"Forward Complaint To"),o.a.createElement(Ia.a,{value:this.state.new_forword_complaint,onChange:this.handleChange,inputProps:{name:"new_forword_complaint",id:"new_forword_complaint"}},this.state.srOfficerArray.map(function(e){return o.a.createElement(Ga.a,{value:e._id},e.officer_id.name," (",e.officer_type,")")})))),o.a.createElement(xt.a,{item:!0,xs:12,md:!0,className:a.textWrapper},o.a.createElement(Qa,{handleChangeComment:this.handleChangeComment,comment:this.state.comment,textField:a.textField,lines:2}))),o.a.createElement("br",null),o.a.createElement(b.a,{variant:"raised",style:{width:"100%",color:"white"},onClick:this.handleForeword,color:"secondary",disabled:this.state.isSaving},this.state.isSaving?"Forwording":"Forword")),o.a.createElement(qa,{open:this.state.history_open,onClose:function(){e.setState({history_open:!1})},data:this.state.history})))),o.a.createElement(pa.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.openSnackbarState,autoHideDuration:5e3,onClose:this.handleSnackbarClose,ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",{id:"message-id"},this.state.snackbarMessage)}))}}]),t}(n.Component),Za=Object(E.withStyles)(function(e){return{root:{flexGrow:1},ComplaintFullView:{},appBar:{position:"relative"},flex:{flex:1},alignCenter:{textAlign:"center",margin:"auto"},paddingClass:{marginTop:"20px"},snackbar:{background:e.palette.primary.light},textField:{width:"100%"},textWrapper:{padding:"10px"},formControl:{minWidth:280},success:{backgroundColor:ma.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:ha.a[700]}}})(Xa),$a=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={page:0,rowsPerPage:10,openComplaintDialogState:!1,ComplaintDialogData:null},a.handleComplaintDialogClose=function(){a.setState({openComplaintDialogState:!1})},a.handleComplaintDialogOpen=function(e){a.setState({ComplaintDialogData:e,openComplaintDialogState:!0})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.page,l=a-Math.min(a,this.props.complaintsData.length-n*a);return o.a.createElement(y.a,{style:{padding:"5px"}},this.props.manageOfficer?o.a.createElement(Sa,{ComplaintDialogData:this.state.ComplaintDialogData,handleComplaintDialogClose:this.handleComplaintDialogClose,openComplaintDialogState:this.state.openComplaintDialogState,handleIndividualComplaintChange:this.props.handleIndividualComplaintChange}):o.a.createElement(Za,{ComplaintDialogData:this.state.ComplaintDialogData,handleComplaintDialogClose:this.handleComplaintDialogClose,openComplaintDialogState:this.state.openComplaintDialogState,handleIndividualComplaintChange:this.props.handleIndividualComplaintChange}),o.a.createElement(fe.a,null,o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,xs:!0,style:{display:"flex",overflow:"auto"}},o.a.createElement("div",{style:{flex:1,height:"56px",marginTop:"10px"}},o.a.createElement(Ce.a,{variant:"headline",style:{display:"inline-block"}},this.props.complaintsData.length+""),o.a.createElement(Ce.a,{variant:"subheading",style:{display:"inline-block"}},"\xa0\xa0Complaints")),o.a.createElement(oa.a,{style:{padding:0,flex:1},component:"div",count:this.props.complaintsData.length,rowsPerPageOptions:[5,10,15,20],rowsPerPage:a,page:n,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})))),this.props.isLoading?o.a.createElement(Dt.a,null):"",o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement(Qt.a,null,o.a.createElement(aa.a,null,o.a.createElement(ia.a,null,o.a.createElement(ea.a,null,"index"),o.a.createElement(ea.a,null,"Girevance"),o.a.createElement(ea.a,null,"Status"),o.a.createElement(ea.a,null,"Emergency"),o.a.createElement(ea.a,null,"#"))),o.a.createElement(Zt.a,null,this.props.complaintsData.slice(n*a,n*a+a).map(function(t,l){return o.a.createElement(ia.a,{key:l},o.a.createElement(ea.a,{component:"th"},n*a+l+1),o.a.createElement(ea.a,null,t.griev_type),o.a.createElement(ea.a,null,t.complaint_status),o.a.createElement(ea.a,null,t.isEmergency?"YES":"NO"),o.a.createElement(ea.a,null,o.a.createElement(b.a,{onClick:function(){e.handleComplaintDialogOpen(t)},color:"secondary",variant:"outlined"},"view")))}),l>0&&o.a.createElement(ia.a,{style:{height:49*l}},o.a.createElement(ea.a,{colSpan:6}))))))}}]),t}(n.Component),en=Object(E.withStyles)(function(e){return{}})($a),tn=a(169),an=a.n(tn);function nn(e){return o.a.createElement(sa.a,Object.assign({direction:"up"},e))}var on=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={page:0,rowsPerPage:25,openOfficerDialogState:!1,openComplaintDialogState:!1,openErrorDialog:!1,OfficerData:null,OfficerDialogData:null,ComplaintDialogData:null,Loading:!0},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.handleComplaintDialogClose=function(){a.setState({OfficerDialogData:null,openComplaintDialogState:!1})},a.handleOfficerDialogClose=function(){a.setState({OfficerDialogData:null,openOfficerDialogState:!1})},a.handleOfficerDialogOpen=function(e){a.setState({OfficerDialogData:e,openOfficerDialogState:!0})},a.handleComplaintDialogOpen=function(e){a.setState({OfficerDialogData:e,openComplaintDialogState:!0});var t=new Headers;t.append("origin","*"),t.append("auth","token "+B("roadGPortalAuth"));var n=new Request(U+"testOfficers",{method:"GET",headers:t,mode:"cors"});fetch(n).then(function(e){return e.json()}).then(function(e){if(a.setState({Loading:!1}),e.success){e.complaints.map(function(e){e.time=new Date(e.time)}),a.allComplaints=e.complaints,console.log(a.allComplaints);var t=e.complaints,n=new Map(a.state.status_type_map);if(a.props.dashboardButton){t=t.filter(function(e){return e.complaint_status&&e.complaint_status.toUpperCase()!==a.props.dashboardButton.toUpperCase()});var o=!n.get(a.props.dashboardButton);n.set(a.props.dashboardButton.toUpperCase(),o),console.log(n,a.props.dashboardButton)}a.setState({status_type_map:n,filteredComplaints:t})}else a.handleDialogOpen(e.data,"Error")}).catch(function(e){console.log(e),a.setState({lodding:!1}),a.handleDialogOpen(e.message,"Error")}),a.setState({OfficerDialogData:e,openOfficerDialog:!0})},a.handleDialogOpen=function(e,t){a.setState({openErrorDialog:!0,dialogMsg:e,dialogTitle:t})},a.handleClose=function(){a.setState({openErrorDialog:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"jrdOfficerList",value:function(){var e=this,t=new Headers;t.append("origin","*"),t.append("auth","token "+B("roadGPortalAuth"));var a=new Request(U+"getJrOfficerList",{method:"GET",headers:t,mode:"cors"});fetch(a).then(function(e){return e.json()}).then(function(t){e.setState({lodding:!1}),t?e.setState({data:t}):e.handleDialogOpen(t.data,"Error")}).catch(function(t){console.log(t),e.setState({lodding:!1}),e.handleDialogOpen(t.message,"Error")})}},{key:"componentDidMount",value:function(){var e=this,t=new Headers;t.append("origin","*"),t.append("auth","token "+B("roadGPortalAuth"));var a=new Request(U+"testOfficers",{method:"GET",headers:t,mode:"cors"});fetch(a).then(function(e){return e.json()}).then(function(t){console.log(t),console.log("officerData",t),e.setState({Loading:!1,OfficerData:t})}).catch(function(t){console.log(t),e.setState({Loading:!1}),e.handleDialogOpen(t.message,"Error")})}},{key:"render",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.page,l=a-Math.min(a,this.props.complaintsData.length-n*a);return o.a.createElement(y.a,null,o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleClose,handleDialogOpen:this.handleDialogOpen}),o.a.createElement(_.a,{fullScreen:!0,open:this.state.openComplaintDialogState,onClose:this.handleComplaintDialogOpen,TransitionComponent:nn},o.a.createElement(fe.a,null,o.a.createElement(ve.a,{color:"inherit",onClick:this.handleComplaintDialogClose,"aria-label":"Close"},o.a.createElement(_t.a,null))),o.a.createElement(En,null)),o.a.createElement(_.a,{fullScreen:!0,open:this.state.openOfficerDialogState,onClose:this.handleOfficerDialogClose,TransitionComponent:nn},o.a.createElement(fe.a,null,o.a.createElement(ve.a,{color:"inherit",onClick:this.handleOfficerDialogClose,"aria-label":"Close"},o.a.createElement(_t.a,null))),o.a.createElement(an.a,{OfficerData:this.state.OfficerDialogData})),this.state.Loading?o.a.createElement(Dt.a,null):o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement(oa.a,{component:"div",count:this.state.OfficerData.length,rowsPerPageOptions:[15,30,45],rowsPerPage:a,page:n,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),o.a.createElement(Qt.a,null,o.a.createElement(aa.a,null,o.a.createElement(ia.a,null,o.a.createElement(ea.a,null,"index"),o.a.createElement(ea.a,null,"Officer Name"),o.a.createElement(ea.a,null,"Officer Role"),o.a.createElement(ea.a,null,"Profile"),o.a.createElement(ea.a,null,"Complaints"))),o.a.createElement(Zt.a,null,this.state.OfficerData.slice(n*a,n*a+a).map(function(t,a){return o.a.createElement(ia.a,{key:a},o.a.createElement(ea.a,null,t.griev_type),o.a.createElement(ea.a,null,t.complaint_status),o.a.createElement(ea.a,null,"NO"),o.a.createElement(ea.a,null,o.a.createElement(b.a,{onClick:function(){e.handleOfficerDialogOpen(t)},color:"secondary",variant:"outlined"},"View")),o.a.createElement(ea.a,null,o.a.createElement(b.a,{onClick:function(){e.handleComplaintDialogOpen(t)},color:"secondary",variant:"outlined"},"Update")))})),l>0&&o.a.createElement(ia.a,{style:{height:49*l}},o.a.createElement(ea.a,{colSpan:6})))))}}]),t}(n.Component),ln=Object(E.withStyles)(function(e){return{}})(on);function rn(e){sn.setOptions({title:e.target.Title,description:e.target.Description,visible:!0,offset:new window.Microsoft.Maps.Point(0,25)}),sn.setLocation(e.target.getLocation())}var sn,cn,pn=function(e){return new Promise(function(t,a){var n=document.createElement("script");n.src=e,n.addEventListener("load",function(){t()}),n.addEventListener("error",function(e){a(e)}),document.body.appendChild(n)})}("https://www.bing.com/api/maps/mapcontrol?key=AjlGU3ieeFyzhwTbfMkukBolwpcjkab8my5_x_qfnz88Kc5RHh04Y8dL5_acLQ3P"),dn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).openIndividiualCompaintDialog=function(e){console.log("--------\x3e ",a.props.complaintsData[e],e),a.setState({openIndividiualCompaintDialog:!0,ComplaintDialogData:a.props.complaintsData[e]})},a.handleClose=function(){a.setState({openIndividiualCompaintDialog:!1,ComplaintDialogData:null})},a.load_Data=function(e){var t=[];e.forEach(function(e,a){console.log("Location ===> ",e.location[0],e.location[1]),void 0!==e.location[0]&&void 0!==e.location[1]&&t.push({lat:e.location[0],lng:e.location[1],title:e.name.slice(0,50)+"... ",description:"<div onclick = window.complaintMapThis.openIndividiualCompaintDialog("+a+") > <div>Status : "+e.complaint_status+" ( "+e.griev_type+' ) <div><a style="color : blue;font-size: 15px" onclick = window.complaintMapThis.openIndividiualCompaintDialog()> View more</a></div></div>'})});var a=new window.Microsoft.Maps.EntityCollection,n=new window.Microsoft.Maps.EntityCollection;sn=new window.Microsoft.Maps.Infobox(new window.Microsoft.Maps.Location(0,0),{visible:!1}),a.push(sn);for(var o=[],l=0;l<t.length;l++){o[l]=new window.Microsoft.Maps.Location(t[l].lat,t[l].lng);var i=new window.Microsoft.Maps.Pushpin(o[l]);i.Title=t[l].title,i.Description=t[l].description,n.push(i),window.Microsoft.Maps.Events.addHandler(i,"click",rn)}cn.entities.push(n),cn.entities.push(a);var r=window.Microsoft.Maps.LocationRect.fromLocations(o);cn.setView({center:r.center,zoom:8})},a.do_load=function(e){var t=Object(Ot.a)(Object(Ot.a)(a));pn.then(function(){t.setState({status:"done"}),cn=new window.Microsoft.Maps.Map(document.getElementById("mMap"),{}),t.load_Data(e)}).catch(function(e){t.setState({status:"error"})})},a.state={status:"start",openIndividiualCompaintDialog:!1,ComplaintDialogData:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log(window),window.complaintMapThis=this,"start"===this.state.status&&(this.setState({status:"loading"}),console.log("Maps loading"),"complete"!=document.readyState?window.onload=function(){e.do_load(e.props.complaintsData)}:this.do_load(this.props.complaintsData))}},{key:"componentWillReceiveProps",value:function(e){if("done"===this.state.status){console.log("semdomg ",e.complaintsData.length);for(var t=cn.entities.getLength()-1;t>=0;t--){cn.entities.get(t)instanceof window.Microsoft.Maps.Pushpin&&cn.entities.removeAt(t)}this.load_Data(e.complaintsData)}}},{key:"render",value:function(){var e="loading"==this.state.status;return o.a.createElement("div",null,o.a.createElement(Za,{ComplaintDialogData:this.state.ComplaintDialogData,handleComplaintDialogClose:this.handleClose,openComplaintDialogState:this.state.openIndividiualCompaintDialog,handleIndividualComplaintChange:this.props.handleIndividualComplaintChange}),e?o.a.createElement(Dt.a,null):o.a.createElement("div",{id:"mMap",style:{width:"auto",height:"90vh"}},"  Loading..."))}}]),t}(n.Component),mn=a(205),un=a.n(mn),hn=a(170),gn=a.n(hn),fn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={StartingDate:new Date((new Date).setMonth((new Date).getMonth()-6)).setHours(0,0,0,0),EndingDate:(new Date).setHours(0,0,0,0),griev_type_map:new Map(V),status_type_map:new Map(z),emergency_state:!0,startAnimation:!1,lodding:!0,SideFilter:!0,emptyList:!0,filteredComplaints:[],searchQuery:"",mobileFilterDialogOpen:!1},a.doSearch=function(e){var t=e.target.value.toLowerCase();console.log(Object.keys(a.state.filteredComplaints),a.state.filteredComplaints,t),a.setState(function(e){var n;return n=t.length<e.searchQuery.length?a.allComplaints.filter(function(a){return a.complaint_status&&e.status_type_map.get(a.complaint_status.toUpperCase())&&a.griev_type&&e.griev_type_map.get(a.griev_type.toUpperCase())&&(!0===e.emergency_state||e.emergency_state!==a.isEmergency)&&a.time>=e.StartingDate&&a.time<=e.EndingDate&&Object.keys(a).some(function(e){var n=!1;return a[e]&&a[e].includes&&a[e].toLowerCase&&(n=a[e].toLowerCase().includes(t)),console.log("Inside some : ",n),n})}):e.filteredComplaints.filter(function(e){console.log("Individual complaint :",e),console.log("Keys : ",Object.keys(e));var a=Object.keys(e).some(function(a){console.log("Keys : ",e[a],a);var n=!1;return e[a]&&e[a].includes&&e[a].toLowerCase&&(n=e[a].toLowerCase().includes(t)),console.log("Inside some : ",n),n});return console.log("inside filter : ",a),a}),{searchQuery:t,filteredComplaints:n}})},a.handleIndividualComplaintChange=function(e,t){if(console.log(e,t),t)a.allComplaints.splice(a.allComplaints.findIndex(function(t){return t._id===e._id}),1),a.setState(function(t){return t.filteredComplaints.splice(t.filteredComplaints.findIndex(function(t){return t._id===e._id}),1),{filteredComplaints:t.filteredComplaints}});else{var n=a.allComplaints.find(function(t){return t._id===e.complaint_id});n.complaint_status=e.complaint_status,n.isEmergency=e.isEmergency,n.completed_complaint_url=e.completed_complaint_url,console.log("Test Completed",e),a.setState(function(t){var a=t.filteredComplaints.find(function(t){return t._id===e.complaint_id});a.complaint_status=e.complaint_status,a.isEmergency=e.isEmergency,a.completed_complaint_url=e.completed_complaint_url})}},a.handleStartingDateChange=function(e){a.setState(function(t){var n;return e>a.state.StartingDate?(0===t.filteredComplaints.length&&(n=a.allComplaints),n=t.filteredComplaints.filter(function(t){return t.time&&t.time>=e}),console.log("After Remove :",n)):(n=a.allComplaints.filter(function(a){return a.complaint_status&&t.status_type_map.get(a.complaint_status.toUpperCase())&&a.griev_type&&t.griev_type_map.get(a.griev_type.toUpperCase())&&(!0===t.emergency_state||t.emergency_state!==a.isEmergency)&&a.time>=e&&a.time<=t.EndingDate}),console.log("After all filter :",n)),{filteredComplaints:n,StartingDate:e}})},a.handleEndingDateChange=function(e){e=e.setHours(0,0,0,0),a.setState(function(t){var n;return e<a.state.EndingDate?(0===t.filteredComplaints.length&&(n=a.allComplaints),n=t.filteredComplaints.filter(function(t){return console.log(t.time&&t.time<=e,new Date(e),new Date(t.time)),t.time&&t.time<=e}),console.log("After Remove :",n)):(n=a.allComplaints.filter(function(a){return a.complaint_status&&t.status_type_map.get(a.complaint_status.toUpperCase())&&a.griev_type&&t.griev_type_map.get(a.griev_type.toUpperCase())&&(!0===t.emergency_state||t.emergency_state!==a.isEmergency)&&a.time>=t.StartingDate&&a.time<=e}),console.log("After all filter :",n)),{filteredComplaints:n,EndingDate:e}})},a.handleChange=function(e){return function(t){a.setState({lodding:!0});var n=t.target.value;console.log("handleChange : ",n,e),a.setState(function(t){var o,l,i;t[e]instanceof Map?(l=!(i=new Map(t[e])).get(n),i.set(n,l)):(i=l=!t[e],console.log("inside emergency if"));var r=[];if(l)"status_type_map"===e?r=(r=a.allComplaints.filter(function(e){return e.complaint_status&&e.complaint_status.toUpperCase()==n.toUpperCase()&&e.griev_type&&t.griev_type_map.get(e.griev_type.toUpperCase())&&(!0===t.emergency_state||t.emergency_state!==e.isEmergency)&&e.time>=t.StartingDate&&e.time<=t.EndingDate})).concat(t.filteredComplaints):"griev_type_map"===e?(r=a.allComplaints.filter(function(e){return e.griev_type&&e.griev_type.toUpperCase()==n.toUpperCase()&&e.complaint_status&&t.status_type_map.get(e.complaint_status.toUpperCase())&&(!0===t.emergency_state||t.emergency_state!==e.isEmergency)&&e.time>=t.StartingDate&&e.time<=t.EndingDate}),r=t.filteredComplaints.concat(r)):"emergency_state"===e&&(console.log("here ",a.allComplaints,t),r=a.allComplaints.filter(function(e){return e.griev_type&&t.griev_type_map.get(e.griev_type.toUpperCase())&&e.complaint_status&&t.status_type_map.get(e.complaint_status.toUpperCase())&&e.time>=t.StartingDate&&e.time<=t.EndingDate})),console.log("Added",r);else if(console.log("removing",t.filteredComplaints),t.filteredComplaints==[]&&(t.filteredComplaints=a.allComplaints),"emergency_state"===e)r=t.filteredComplaints.filter(function(e){return e.isEmergency&&1==e.isEmergency}),console.log(r);else{var s=null;"status_type_map"===e?s="complaint_status":"griev_type_map"===e&&(s="griev_type"),r=t.filteredComplaints.filter(function(e){return e[s]&&e[s].toUpperCase()!==n.toUpperCase()}),console.log(r)}return o={},Object(f.a)(o,e,i),Object(f.a)(o,"lodding",!1),Object(f.a)(o,"filteredComplaints",r),o})}},a.allComplaints=[],a.handleDialogOpen=function(e,t){a.setState({openDialog:!0,dialogMsg:e,dialogTitle:t})},a.handleClose=function(e){return function(){a.setState(Object(f.a)({},e,!1))}},a.handleFilterOpen=function(){a.setState({mobileFilterDialogOpen:!0})},a.handleFilterBar=function(){a.setState({filterDialogState:!0})},a.handleFilterClose=function(){a.setState({filterDialogState:!1})},a.sideFilter=function(){return console.log("SideFilter : "),console.log(Object(Ot.a)(Object(Ot.a)(a)),Object(Ot.a)(Object(Ot.a)(a))instanceof t),o.a.createElement(qt,{status_type_map:a.state.status_type_map,griev_type_map:a.state.griev_type_map,StartingDate:a.state.StartingDate,EndingDate:a.state.EndingDate,exportExcel:a.exportExcel.bind(Object(Ot.a)(Object(Ot.a)(a))),emergency_state:a.state.emergency_state,handleChange:a.handleChange,handleEndingDateChange:a.handleEndingDateChange,handleStartingDateChange:a.handleStartingDateChange,doSearch:a.doSearch})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"exportExcel",value:function(e){console.log("Excel : "),console.log(this),console.log(this.state.filteredComplaints);var t=Object.keys(this.state.filteredComplaints[0]);console.log("Headers -----"+t);var a="";["longitude","latitude","complaint_status","isEmergency","_id","road_code","name","griev_type","time","estimated_completion"].forEach(function(e,t){a+=e+","}),a+="\r\n",this.state.filteredComplaints.forEach(function(e,n){t.forEach(function(t,n){if("time"===t){console.log("Date ---\x3e ",e[t]);var o=new Date(e[t]);console.log("Date ---\x3e ",o),e[t]=o.getDate()+"-"+o.getMonth()+"-"+o.getFullYear(),console.log(e[t])}if("estimated_completion"===t)if("Pending"==e.complaint_status)e[t]="No Estimated date";else{var l=new Date(e[t]);e[t]=l.getDate()+"-"+l.getMonth()+"-"+l.getFullYear(),console.log(e[t])}"comments"!==t&&"posted_users"!==t&&"completed_complaint_url"!==t?(console.log(t,"  ",e[t]),a+=e[t]+","):console.log("Skiiping commenst & posted Uswers")}),a+="\r\n",console.log("\n")}),console.log(a);var n=document.createElement("a");console.log("Excel ",document,n),document.body.appendChild(n),n.setAttribute("href","data:application/vnd.ms-excel;charset=utf-8,"+encodeURIComponent(a)),n.setAttribute("download","R&BPortal_Data.csv"),n.setAttribute("target","_self"),n.click(),console.log("Exprot excel ")}},{key:"componentDidMount",value:function(){var e=this;this.setState({startAnimation:!0});var t,a=new Headers;if(a.append("origin","*"),a.append("Content-Type","application/json"),a.append("auth","token "+B("roadGPortalAuth")),this.props.manageOfficer){var n="";console.log(this.props.OfficerIdArray);for(var o=0;o<this.props.OfficerIdArray.length;o++)n+=this.props.OfficerIdArray[o]+";";console.log(n),n=n.slice(0,n.length-1),t=new Request(U+"getJrOfficerComplaints",{method:"POST",headers:a,body:JSON.stringify({officerIds:n})})}else t=new Request(U+"getComplaints?isPaginated=0",{method:"GET",headers:a,mode:"cors"});fetch(t).then(function(e){return e.json()}).then(function(t){if(t.success){console.log("complaints ",t),console.log(t.complaints);var a=new Map;if(t.complaints.map(function(e){e.time=new Date(e.time).setHours(0,0,0,0),a.set(e.griev_type,!0)}),t.complaints=t.complaints.filter(function(e){return console.log(e.time,Number.isNaN(e.time)),!Number.isNaN(e.time)}),e.allComplaints=t.complaints,console.log(e.allComplaints),e.props.dashboardButton)if("EMERGENCY"===e.props.dashboardButton.toUpperCase()){var n=e.allComplaints.filter(function(e){return e.isEmergency&&1==e.isEmergency});e.setState({emergency_state:!1,filteredComplaints:n})}else{var o=t.complaints,l=new Map(e.state.status_type_map),i=!0,r=!1,s=void 0;try{for(var c,p=l[Symbol.iterator]();!(i=(c=p.next()).done);i=!0){var d=c.value,m=Object(yt.a)(d,2),u=m[0],h=m[1];l.set(u,!h)}}catch(f){r=!0,s=f}finally{try{i||null==p.return||p.return()}finally{if(r)throw s}}o=o.filter(function(t){return t.complaint_status&&t.complaint_status.toUpperCase()===e.props.dashboardButton.toUpperCase()});var g=!l.get(e.props.dashboardButton);l.set(e.props.dashboardButton.toUpperCase(),g),console.log(l,e.props.dashboardButton),e.setState({status_type_map:l,filteredComplaints:o})}else e.setState({filteredComplaints:e.allComplaints});e.setState({lodding:!1,griev_type_map:a})}else e.handleDialogOpen(t.data,"Error")}).catch(function(t){console.log(t),e.setState({lodding:!1}),e.handleDialogOpen(t.message,"Error")})}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:t.wrapper},o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleClose("openDialog"),handleDialogOpen:this.handleDialogOpen}),this.props.manageOfficer&&o.a.createElement(ve.a,{color:"inherit",style:{position:"absolute",top:"10px",left:"10px"},onClick:this.props.handleComplaintDialogClose,"aria-label":"Close"},o.a.createElement(_t.a,null)),o.a.createElement(I,{openDialogState:this.state.mobileFilterDialogOpen,dialogTitle:"Filters",dialogMsg:"",handleClose:this.handleClose("mobileFilterDialogOpen"),handleDialogOpen:this.handleFilterOpen},this.sideFilter()),this.state.lodding&&o.a.createElement(Dt.a,{className:t.progress}),!this.state.lodding&&this.allComplaints&&0!==this.allComplaints.length&&o.a.createElement(xt.a,{container:!0,spacing:0,style:{margin:"auto"}},o.a.createElement(xt.a,{item:!0,md:3,xs:12,className:t.sideFilterGrid},this.sideFilter()),o.a.createElement(xt.a,{item:!0,md:9,xs:12},this.state.filteredComplaints&&0!=this.state.filteredComplaints.length?this.props.manageOfficer?o.a.createElement("div",{style:{paddingTop:"0px"}},o.a.createElement(en,{manageOfficer:!0,complaintsData:this.state.filteredComplaints})):o.a.createElement("div",{style:{paddingTop:"50px"}},o.a.createElement(h.a,null,o.a.createElement(g.a,{exact:!0,path:"/Dashboard/Complaints/Table",render:function(){return o.a.createElement(en,{complaintsData:e.state.filteredComplaints,handleIndividualComplaintChange:e.handleIndividualComplaintChange})}}),o.a.createElement(g.a,{exact:!0,path:"/Dashboard/Complaints/Reports",render:function(){return o.a.createElement(ln,{complaintsData:e.state.filteredComplaints})}}),o.a.createElement(g.a,{exact:!0,path:"/Dashboard/Complaints/Maps",render:function(){return o.a.createElement(dn,{complaintsData:e.state.filteredComplaints,handleIndividualComplaintChange:e.handleIndividualComplaintChange})}}),o.a.createElement(g.a,{path:"/Dashboard/Complaints/*"},o.a.createElement(m.a,{to:"/Dashboard/"})))):o.a.createElement("div",{className:t.progressWrapper,style:{height:"100vh"}},o.a.createElement("div",{style:{margin:"auto",textAlign:"center"}},o.a.createElement("img",{src:un.a,style:{width:"100px"}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(Ce.a,{variant:"display2",style:{color:"black"}},"No such Complaints"),o.a.createElement("br",null),o.a.createElement(Ce.a,{variant:"headline",style:{color:"rgba(0,0,0,0.5)"}},"Try some diffrent combinations"))),o.a.createElement(ft.a,{variant:"extendedFab",color:"secondary",onClick:this.handleFilterOpen,className:t.sideFilterButton},o.a.createElement(gn.a,null),"\xa0Filter"))),!this.state.lodding&&this.allComplaints&&0===this.allComplaints.length&&o.a.createElement("div",{className:t.progressWrapper,style:{height:"100vh"}},o.a.createElement("div",{style:{margin:"auto",textAlign:"center"}},o.a.createElement("img",{src:un.a,style:{width:"100px"}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(Ce.a,{variant:"display2",style:{color:"black"}},"No Complaints...Yet!"),o.a.createElement("br",null),o.a.createElement(Ce.a,{variant:"headline",style:{color:"rgba(0,0,0,0.5)"}},"Complaints posted by citizen will be shown here"))))}}]),t}(n.Component),En=Object(E.withStyles)(function(e){return{progressWrapper:{width:"100%",display:"flex"},progress:{margin:"auto",marginTop:"50px",textAlign:"center"},wrapper:{display:"block",background:"white"},filterBtn:Object(f.a)({width:"100%"},e.breakpoints.up("md"),{display:"none"}),SideFilter:Object(f.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),padding10:{padding:"10px"},sideFilterGrid:Object(f.a)({height:"97vh",paddingTop:"56px",overflowY:"scroll",overflowX:"hidden"},e.breakpoints.down("sm"),{display:"none"}),sideFilterButton:Object(f.a)({position:"fixed",bottom:"20px",right:"20px",display:"none"},e.breakpoints.down("sm"),{display:"flex"})}})(fn);(function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("span",{style:{display:"block",paddingTop:"10px",fontSize:"12px"}},this.props.type," : ",this.props.data)}}]),t}(n.Component)).defaultProps={data:0};var Cn=a(72),bn=a.n(Cn),vn=Object(E.withStyles)(function(e){return{Total:{backgroundColor:"rgba(0, 0, 255, 0.1)"},Emergency:{backgroundColor:"rgba(255, 0, 0, 0.1)"},Pending:{backgroundColor:"rgba(155, 100, 0, 0.1)"},Completed:{backgroundColor:"rgba(0, 255, 0, 0.1)"},Approved:{backgroundColor:"rgba(128, 203, 196, 0.4)"}}})(function(e){function t(t){switch(t){case"Total Complaints":return e.classes.Total;case"Emergency":return e.classes.Emergency;case"Pending":return e.classes.Pending;case"Completed":return e.classes.Completed;case"Approved":return e.classes.Approved;default:return-1}}return o.a.createElement(bn.a,{className:t(e.type),avatar:o.a.createElement(Se.a,{className:t(e.type)},e.data?e.data:0),label:e.type,variant:"outlined"})}),yn=a(62),On=a(78),wn=a.n(On),Dn=a(121),Sn=a.n(Dn),xn=a(50);function Pn(e){var t=e.inputRef,a=Object(we.a)(e,["inputRef"]);return o.a.createElement("div",Object.assign({ref:t},a))}var _n={Control:function(e){return o.a.createElement(w.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:Pn,inputProps:Object(xa.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return o.a.createElement(y.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return o.a.createElement(bn.a,{tabIndex:-1,label:e.children,className:it()(e.selectProps.classes.chip,Object(f.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:o.a.createElement(Sn.a,e.removeProps)})},NoOptionsMessage:function(e){return o.a.createElement(Ce.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return o.a.createElement(Ga.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return o.a.createElement(Ce.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return o.a.createElement(Ce.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return o.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},jn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={post:"",filterPost:"",errorStatus:!1,saveButtondisable:!1,officerName:"",openDialog:!1},a.handleDialogOpen=function(e,t){a.setState({openDialog:!0,dialogMsg:e,dialogTitle:t})},a.chargeTransfer=function(){if(null==a.state.officerName.value||null==a.props.officerId||null==a.props.postId)return a.handleDialogOpen("Please select all data","Error"),void a.setState({openDialog:!0,errorStatus:!0});a.setState({openDialog:!1,errorStatus:!1,saveButtondisable:!0}),fetch(U+"chargeTransfer/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"POST",body:JSON.stringify({selectedFromListPostId:a.props.postId,selectedFromListOfficerId:a.props.officerId,selectedFromUIOfficerId:a.state.officerName.value[0],selectedFromListOfficeType:a.props.officetype})}).then(function(e){return e.json()}).then(function(e){e.success,a.handleDialogOpen("Officer transfer successfully !!",""),a.setState({openDialog:!0})}).catch(function(e){console.log(e),a.handleDialogOpen(e,"Error Occur"),a.setState({openDialog:!0,saveButtondisable:!1})})},a.handlePostChange=function(e){var t;t=null==e?"":e.value,a.setState({post:e,filterPost:t,officerName:""})},a.handleOfficerChange=function(e){console.log("check",e),null==e&&(e={value:""}),a.setState({officerName:e})},a.handleClose=function(){a.setState({openDialog:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,l=J.slice(0,H.indexOf(B("roadGPortalRole"))).map(function(e){return{value:e[1],label:e[0]}}),i={input:function(e){return Object(xa.a)({},e,{color:n.palette.text.primary,"& input":{font:"inherit"}})}};return o.a.createElement(y.a,{className:a.ProfileWrapper},o.a.createElement(fe.a,null,o.a.createElement(Ce.a,{variant:"headline",style:{textAlign:"center",width:"100%"}},"Manage Officer Charge Here")),o.a.createElement("div",{className:a.divider}),o.a.createElement(wn.a,null,o.a.createElement(yn.a,{classes:a,styles:i,options:l,components:_n,value:this.state.post,onChange:this.handlePostChange,placeholder:"Select Post",isClearable:!0}),o.a.createElement("div",{className:a.divider}),o.a.createElement(yn.a,{classes:a,styles:i&&{marginTop:"200dp"},options:this.props.officerData.filter(function(t){return t.officer_type==e.state.filterPost}).map(function(e){return{value:[e.officer_id._id,e.officer_type],label:e.officer_id.name+"   No. - "+e.officer_id.phoneNo+"  ( Office : "+e.office_type+" ) "}}),components:_n,value:this.state.officerName,onChange:this.handleOfficerChange,placeholder:"Select Officer"}),o.a.createElement("div",{className:a.divider}),o.a.createElement("br",null),o.a.createElement(ft.a,{style:{width:"100%"},onClick:this.chargeTransfer,disabled:this.state.saveButtondisable,color:"secondary",variant:"outlined"},"Save")),o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleClose,handleDialogOpen:this.handleDialogOpen},o.a.createElement(ft.a,{onClick:this.handleClose},"OK")))}}]),t}(o.a.Component),kn=Object(E.withStyles)(function(e){return{root:{flexGrow:1,height:250},input:{display:"flex",padding:0},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},chipFocused:{backgroundColor:Object(xn.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},divider:{height:3*e.spacing.unit},ProfileWrapper:Object(f.a)({margin:"auto",padding:"20px",textAlign:"center"},e.breakpoints.up("sm"),{width:"40%"})}},{withTheme:!0})(jn),Nn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={postData:[],officerData:[],value:0,post:"",post1:{label:""},openDialog:!1,officerName1:{label:""},officerName:"",generateBtnDisable:!1,assignBtnDisable:!1,sanctioned_Post:"",sanctionedPostLable:"DEE",districts:""},a.handleDialogOpen=function(e,t){a.setState({openDialog:!0,dialogMsg:e,dialogTitle:t})},a.handleClose=function(){a.setState({openDialog:!1}),a.state.toLogin&&a.props.history.push("/")},a.handleTabChange=function(e,t){a.setState({value:t})},a.handleOfficerChange=function(e){null==e&&(e={value:""}),a.setState({officerName1:e,officerName:e})},a.handlePostChange=function(e){var t=e.label;console.log("check 3",e),null==t&&(t={value:""}),a.setState({post1:e,post:e})},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.componentWillMount=function(){fetch(U+"getUnallocatedOfficers/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"GET"}).then(function(e){return e.json()}).then(function(e){e.success&&(console.log("data",e.data),a.setState({officerData:e.data}))}).catch(function(e){console.log(e),a.handleDialogOpen(e.message,"Please try again later ")}),fetch(U+"getAllJrPosts/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"GET"}).then(function(e){return e.json()}).then(function(e){e.success&&a.setState({postData:e.data})}).catch(function(e){console.log(e),a.handleDialogOpen(e.message,"Please try again later ")});var e=B("roadGPortalRole"),t="";"Chief Engineer"===e?(t="Enter Name Of Circle (ex. ASTC(Ahmedabad State Circle ))",e="SE"):"Deputy Executive Engineer"===e?(t="Enter Name Of Sanctioned Post(ex. SO1,SO2)",e=""):"Executive Engineer"===e?(t="Enter Name Of Sub Division (ex.Subdivision Mehsana... )",e="DEE"):"Superintending Engineer"===e&&(t="Enter Name Of  Division (ex.Ahmedabad,Mehsana... )",e="EE"),a.setState({sanctionedPostLable:t,officerRole:e})},a.performValidataion=function(e){if(a.state.officerName1.label.length>0)return 0===e&&a.state.post1.label.length>0||1===e&&a.state.sanctioned_Post.length>0&&("EE"!==a.state.officerRole||0!==a.state.districts.length)},a.handleGeneratePost=function(){a.performValidataion(1)?(a.setState({generateBtnDisable:!0}),fetch(U+"addOfficer",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"POST",body:JSON.stringify({post_office_type:a.state.sanctioned_Post,officer_id:a.state.officerName.value,operationFlag:"oonp",post_districts:a.state.districts.split(",")})}).then(function(e){return e.json()}).then(function(e){e.success?a.handleDialogOpen(e.data,"Notice"):(a.handleDialogOpen(e.data,"Error"),console.log("Error : ",e)),a.setState({generateBtnDisable:!1})}).catch(function(e){console.log(e),a.handleDialogOpen("Please try again later "),a.setState({generateBtnDisable:!1})})):a.handleDialogOpen("Please Fill In All The Fields ","Error")},a.handleAssignPost=function(){console.log("Before"),a.performValidataion(0)?(a.setState({assignBtnDisable:!0}),console.log("after"),fetch(U+"hierarchyTransfer/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"POST",body:JSON.stringify({post_id:a.state.post.value._id,officer_id:a.state.officerName.value,post_office_type:a.state.post.value.office_type})}).then(function(e){return e.json()}).then(function(e){a.setState({assignBtnDisable:!1}),e.success?a.handleDialogOpen(e.data,"Notice"):console.log(e.data,"Error :")}).catch(function(e){console.log(e),a.setState({assignBtnDisable:!1}),a.handleDialogOpen(e.message,"Please try again later ")})):a.handleDialogOpen("Please Fill In all Fields","Error ")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.officerData.map(function(e){return{value:e._id,label:e.name+" ( "+e.phoneNo+" )"}}),a=this.state.postData.map(function(e){return{value:e,label:e.post_id}}),n=this.props,l=n.classes,i=n.theme,r={input:function(e){return Object(xa.a)({},e,{color:i.palette.text.primary,"& input":{font:"inherit"}})}};return o.a.createElement("div",{className:l.wrapper},o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleClose,handleDialogOpen:this.handleDialogOpen},o.a.createElement(b.a,{onClick:this.handleClose},"OK")),o.a.createElement(y.a,{className:l.ReceiveOfficerWrapper},o.a.createElement(fe.a,null,o.a.createElement(Ce.a,{variant:"headline",style:{textAlign:"center",width:"100%"}},"Receive Officer")),o.a.createElement("br",null),o.a.createElement(yn.a,{classes:l,styles:r&&{marginTop:"200dp"},options:t,value:this.state.officerName,onChange:this.handleOfficerChange,placeholder:"Select Transferred Officer"}),o.a.createElement("br",null),o.a.createElement(Ft.a,null),o.a.createElement(y.a,{elevation:"0",className:l.root,style:{paddingLeft:"-30px",paddingRight:"-30px"}},o.a.createElement(Na.a,{value:this.state.value,onChange:this.handleTabChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(Ta.a,{label:"ASSIGN OFFICER POSITION"}),o.a.createElement(Ta.a,{label:"CREATE OFFICER POSITION"}))),o.a.createElement(Ft.a,null),0==this.state.value&&o.a.createElement(y.a,{elevation:"0",style:{padding:"40px"}},o.a.createElement(yn.a,{classes:l,styles:r&&{marginTop:"100dp"},options:a,value:this.state.post,onChange:function(t){return e.handlePostChange(t)},placeholder:"Select Post Of Officer"}),o.a.createElement("br",null),o.a.createElement(b.a,{style:{width:"100%"},onClick:this.handleAssignPost,color:"secondary",variant:"outlined",disabled:this.state.assignBtnDisable},this.state.assignBtnDisable?"Assigning Post...":"Assign Post")),1==this.state.value&&o.a.createElement(y.a,{elevation:"0",style:{paddingLeft:"40px",paddingRight:"40px",paddingBottom:"40px",paddingTop:"20px"}},o.a.createElement(w.a,{id:"sanctioned_Post",label:this.state.sanctionedPostLable,name:"sanctioned_Post",className:l.textField,value:this.state.sanctioned_Post,onChange:this.handleChange,margin:"none"}),"EE"===this.state.officerRole&&o.a.createElement(w.a,{id:"districts",label:"Name of District (enter , after each district name ex. Ahmedabad,Surat...)",name:"districts",className:l.textField,value:this.state.districts,onChange:this.handleChange,margin:"none"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(b.a,{style:{width:"100%"},onClick:this.handleGeneratePost,color:"secondary",variant:"outlined",disabled:this.state.generateBtnDisable},this.state.generateBtnDisable?"Generating Post...":"Generate Post"))))}}]),t}(n.Component),An=Object(E.withStyles)(function(e){return{textField:{width:"100%",textAlign:"left"},wrapper:{width:"100vw",height:"100vh",display:"flex",textAlign:"center"},ReceiveOfficerWrapper:Object(f.a)({margin:"auto",padding:"10px"},e.breakpoints.up("sm"),{width:"50%"})}})(Nn);function Tn(e){var t=e.inputRef,a=Object(we.a)(e,["inputRef"]);return o.a.createElement("div",Object.assign({ref:t},a))}var Rn={Control:function(e){return o.a.createElement(w.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:Tn,inputProps:Object(xa.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return o.a.createElement(y.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return o.a.createElement(bn.a,{tabIndex:-1,label:e.children,className:it()(e.selectProps.classes.chip,Object(f.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:o.a.createElement(Sn.a,e.removeProps)})},NoOptionsMessage:function(e){return o.a.createElement(Ce.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return o.a.createElement(Ga.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return o.a.createElement(Ce.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return o.a.createElement(Ce.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return o.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},Mn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={single:null,multi:null},a.handleChange=function(e){console.log(e);var t=e.map(function(e){return{label:e.value,value:e.value}});console.log(t),a.props.setRoadCodes(t),a.setState({multi:t})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({multi:this.props.values})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n={input:function(e){return Object(xa.a)({},e,{color:a.palette.text.primary,"& input":{font:"inherit"}})}};return o.a.createElement("div",{className:t.root},o.a.createElement(wn.a,null,o.a.createElement(yn.a,{classes:t,styles:n,textFieldProps:{label:"Road Code",InputLabelProps:{shrink:!0}},options:this.props.options,components:Rn,value:this.props.values,onChange:this.handleChange,placeholder:"Select Roads",isMulti:!0})))}}]),t}(o.a.Component),Fn=(Object(E.withStyles)(function(e){return{root:{flexGrow:1},input:{display:"flex",padding:0},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},chipFocused:{backgroundColor:Object(xn.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},divider:{height:2*e.spacing.unit}}},{withTheme:!0})(Mn),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={startAnimation:!1,name:"",email:"",phoneNo:"",value:0,postData:[],post:"",sanctionedPostLable:"DEE",sanctioned_Post:"",districts:"",generateBtnDisable:!1,assignBtnDisable:!1},a.handleTabChange=function(e,t){a.setState({value:t})},a.handlePostChange=function(e){var t=e.label;console.log("check 3",e),null==t&&(t={value:""}),a.setState({post:e})},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleDialogOpen=function(e,t){a.setState({openDialog:!0,dialogMsg:e,dialogTitle:t})},a.handleClose=function(){a.setState({openDialog:!1})},a.performValidataion=function(e){if(a.state.name.length>0&&10===a.state.phoneNo.length&&a.state.email.length>0)return 0===e&&a.state.post.label.length>0||1===e&&a.state.sanctioned_Post.length>0&&("EE"!==a.state.officerRole||0!==a.state.districts.length)},a.handleGeneratePost=function(){a.performValidataion(1)?(B("roadGPortalCurrentPosts"),a.setState({generateBtnDisable:!0}),fetch(U+"addOfficer",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"POST",body:JSON.stringify({officer_name:a.state.name,post_office_type:a.state.sanctioned_Post,officer_phoneNo:a.state.phoneNo,officer_email:a.state.email,operationFlag:"nonp",post_districts:a.state.districts.split(",")})}).then(function(e){return e.json()}).then(function(e){e.success?a.handleDialogOpen(e.data,"Notice"):(a.handleDialogOpen(e.data,"Error"),console.log("Error : ",e)),a.setState({generateBtnDisable:!1})}).catch(function(e){console.log(e),a.handleDialogOpen("Please try again later "),a.setState({generateBtnDisable:!1})})):a.handleDialogOpen("Please Fill In All The Fields ","Error")},a.handleAssignPost=function(){console.log("Before"),a.performValidataion(0)?(a.setState({assignBtnDisable:!0}),console.log("after"),fetch(U+"addOfficer/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"POST",body:JSON.stringify({post_id:a.state.post.value._id,post_office_type:a.state.post.value.office_type,officer_name:a.state.name,officer_phoneNo:a.state.phoneNo,officer_email:a.state.email,operationFlag:"noop"})}).then(function(e){return e.json()}).then(function(e){a.setState({assignBtnDisable:!1}),e.success?a.handleDialogOpen(e.data,"Notice"):(a.handleDialogOpen(e.data,"Error"),console.log("Error : ",e))}).catch(function(e){console.log(e),a.handleDialogOpen(e.message,"Please try again later "),a.setState({assignBtnDisable:!1})})):a.handleDialogOpen("Please Fill In All The Fields ","Error")},a.handleDistrictChange=function(e){console.log("Disticts"+e)},a.componentWillMount=function(){fetch(U+"getAllJrPosts/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"GET"}).then(function(e){return e.json()}).then(function(e){e.success&&(a.setState({postData:e.data}),console.log("Response data"+e.data))}).catch(function(e){console.log(e),a.handleDialogOpen(e.message,"Please try again later ")});var e=B("roadGPortalRole"),t="";"Chief Engineer"===e?(t="Enter Name Of Circle (ex. ASTC(Ahmedabad State Circle ))",e="SE"):"Deputy Executive Engineer"===e?(t="Enter Name Of Sanctioned Post(ex. SO1,SO2)",e=""):"Executive Engineer"===e?(t="Enter Name Of Sub Division (ex.Subdivision Mehsana... )",e="DEE"):"Superintending Engineer"===e&&(t="Enter Name Of  Division (ex.Ahmedabad,Mehsana... )",e="EE"),a.setState({sanctionedPostLable:t,officerRole:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({startAnimation:!0})}},{key:"render",value:function(){var e=this,t=this.state.postData.map(function(e){return{value:e,label:e.post_id}}),a=this.props,n=a.classes,l=a.theme,i={input:function(e){return Object(xa.a)({},e,{color:l.palette.text.primary,"& input":{font:"inherit"}})}};return o.a.createElement("div",{className:n.wrapper},o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleClose,handleDialogOpen:this.handleDialogOpen},o.a.createElement(b.a,{onClick:this.handleClose},"OK")),o.a.createElement(y.a,{className:n.AddOfficerWrapper},o.a.createElement(fe.a,null,o.a.createElement(Ce.a,{variant:"headline",style:{textAlign:"center",width:"100%"}},"Add New Officer")),o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,xs:12,className:n.textWrapper},o.a.createElement(w.a,{id:"name",label:"Name",name:"name",className:n.textField,value:this.state.name,onChange:this.handleChange,margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:n.textWrapper},o.a.createElement(w.a,{id:"email",label:"Email",name:"email",className:n.textField,value:this.state.email,onChange:this.handleChange,margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:n.textWrapper},o.a.createElement(w.a,{id:"phoneNo",label:"Phone Number",name:"phoneNo",className:n.textField,value:this.state.phoneNo,onChange:this.handleChange,margin:"none"}))),o.a.createElement("br",null),o.a.createElement(y.a,{elevation:"0",className:n.root,style:{paddingLeft:"-30px",paddingRight:"-30px"}},o.a.createElement(Na.a,{value:this.state.value,onChange:this.handleTabChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(Ta.a,{label:"ASSIGN OFFICER POSITION"}),o.a.createElement(Ta.a,{label:"CREATE OFFICER POSITION"}))),o.a.createElement(Ft.a,null),0==this.state.value&&o.a.createElement(y.a,{elevation:"0",style:{padding:"40px"}},o.a.createElement(yn.a,{classes:n,styles:i&&{marginTop:"100dp"},options:t,value:this.state.post,onChange:function(t){return e.handlePostChange(t)},placeholder:"Select Post Of Officer"}),o.a.createElement("br",null),o.a.createElement(b.a,{style:{width:"100%"},onClick:this.handleAssignPost,color:"secondary",variant:"outlined",disabled:this.state.assignBtnDisable},this.state.assignBtnDisable?"Assigning Post...":"Assign Post")),1==this.state.value&&o.a.createElement(y.a,{elevation:"0",style:{paddingLeft:"40px",paddingRight:"40px",paddingBottom:"40px",paddingTop:"20px"}},o.a.createElement(w.a,{id:"sanctioned_Post",label:this.state.sanctionedPostLable,name:"sanctioned_Post",className:n.textField,value:this.state.sanctioned_Post,onChange:this.handleChange,margin:"none"}),"EE"===this.state.officerRole&&o.a.createElement(w.a,{id:"districts",label:"Name of District (enter , after each district name ex. Ahmedabad,Surat...)",name:"districts",className:n.textField,value:this.state.districts,onChange:this.handleChange,margin:"none"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(b.a,{style:{width:"100%"},onClick:this.handleGeneratePost,color:"secondary",variant:"outlined",disabled:this.state.generateBtnDisable},this.state.generateBtnDisable?"Generating Post...":"Generate Post"))))}}]),t}(n.Component)),In=Object(E.withStyles)(function(e){return{wrapper:{width:"100vw",height:"100vh",display:"flex",textAlign:"center"},textWrapper:{padding:"10px"},textField:{width:"100%",textAlign:"left"},AddOfficerWrapper:Object(f.a)({margin:"auto",padding:"10px"},e.breakpoints.up("sm"),{width:"50%"})}},{withTheme:!0})(Fn);function Ln(e){return o.a.createElement(sa.a,Object.assign({direction:"up"},e))}var Un=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={page:0,rowsPerPage:10,openReceiveOfficerDialog:!1,openOfficerDialogState:!1,openComplaintDialogState:!1,openAddNewOfficerDialog:!1,openChargeDialog:!1,expandOfficerFilters:!0,openErrorDialog:!1,OfficerData:[],OfficerMap:null,searchQuery:"",OfficerDialogData:null,ComplaintDialogData:null,Loading:!0,sideFilterDialogOpen:!1},a.officerMap=null,a.allOfficersData=[],a.mapForFilteringOfficerRole=new Map(J),a.mapForSearchingOfficerRole=new Map(J.map(function(e){return e.slice().reverse()})),a.doSearch=function(e){var t=e.target.value.toLowerCase();console.log("doSearch => ",a.state.OfficerData,t),a.setState(function(e){var n;return t.length<e.searchQuery.length?(console.log(a.mapForSearchingOfficerRole),n=a.allOfficersData.filter(function(n){return n.officer_type&&e.OfficerMap.get(a.mapForSearchingOfficerRole.get(n.officer_type.toUpperCase()))&&Object.keys(n).some(function(e){var a=!1;return n[e]&&n[e].includes&&n[e].toLowerCase&&(a=n[e].toLowerCase().includes(t)),"officer_id"===e&&(console.log(n[e]),a=Object.keys(n[e]).some(function(a){var o=!1;return n[e][a]&&n[e][a].includes&&n[e][a].toLowerCase&&(console.log("Gone inside ! => ",n[e][a].toLowerCase(),t),o=n[e][a].toLowerCase().includes(t)),o})),console.log("Inside some : ",a),a})})):(n=e.OfficerData.filter(function(e){var a=Object.keys(e).some(function(a){console.log("Keys : ",e[a],a);var n=!1;return e[a]&&e[a].includes&&e[a].toLowerCase&&(console.log("Gone inside ! => ",e[a].toLowerCase(),t),n=e[a].toLowerCase().includes(t)),"officer_id"===a&&(console.log(e[a]),n=Object.keys(e[a]).some(function(n){var o=!1;return e[a][n]&&e[a][n].includes&&e[a][n].toLowerCase&&(console.log("Gone inside ! => ",e[a][n].toLowerCase(),t),o=e[a][n].toLowerCase().includes(t)),o})),console.log("Inside some : ",n),n});return console.log("inside filter : ",a),a}),console.log("newSearchedData",n)),a.getTotalCountOfComplaintTypes(n),{searchQuery:t,OfficerData:n}})},a.handleChange=function(e){return function(t){a.setState({Loading:!0});var n=t.target.value;console.log(n,e),a.setState(function(t){var o,l,i;l=!(i=new Map(t[e])).get(n),i.set(n,l),n=a.mapForFilteringOfficerRole.get(n),console.log("nwer map ",i),console.log(n,e);var r=[];if(l)console.log(a.allOfficersData),r=(r=a.allOfficersData.filter(function(e){return e.officer_type&&e.officer_type.toUpperCase()==n.toUpperCase()})).concat(t.OfficerData),console.log("Added",r);else{t.OfficerData==[]&&(t.OfficerData=a.allOfficersData);r=t.OfficerData.filter(function(e){return e.officer_type&&e.officer_type.toUpperCase()!==n.toUpperCase()})}return a.getTotalCountOfComplaintTypes(r),o={},Object(f.a)(o,e,i),Object(f.a)(o,"Loading",!1),Object(f.a)(o,"OfficerData",r),o})}},a.handleExpandClick=function(e){console.log("event"+e),a.setState(function(t){return Object(f.a)({},e,!t[e])})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.handleComplaintDialogClose=function(){a.setState({OfficerDialogData:null,openComplaintDialogState:!1})},a.handleOfficerDialogClose=function(){a.setState({OfficerDialogData:null,openOfficerDialogState:!1})},a.handleChargeDialogClose=function(){console.log("Handle Charge Dialog called"),a.setState({openChargeDialog:!1})},a.handleOfficerDialogOpen=function(e){a.setState({OfficerDialogData:e,openOfficerDialogState:!0})},a.handleComplaintDialogOpen=function(e){var t=[];if(console.log("OfficerDialog ",e,typeof e),Array.isArray(e))for(var n=0;n<e.length;n++)t.push(e[n]._id);else t.push(e._id);a.setState({OfficerIdArray:t,openComplaintDialogState:!0})},a.handleChargeDialogOpen=function(e){console.log(e),a.setState({officetype:e.office_type,postId:e._id,officerId:e.officer_id._id,openChargeDialog:!0})},a.handleDialogOpen=function(e,t){a.setState({openErrorDialog:!0,dialogMsg:e,dialogTitle:t})},a.handleClose=function(){a.setState({openErrorDialog:!1})},a.handleCheckBoxChange=function(e){},a.sideFilterHandleOpen=function(){a.setState({sideFilterDialogOpen:!0})},a.sideFilterHandleClose=function(){a.setState({sideFilterDialogOpen:!1})},a.handleReceive=function(){a.setState({openReceiveOfficerDialog:!0})},a.handleAddnewOfficer=function(){a.setState({openAddNewOfficerDialog:!0})},a.handleReceiveOfficerDialogClose=function(){a.setState({openReceiveOfficerDialog:!1})},a.handleAddNewOfficerDialogClose=function(){a.setState({openAddNewOfficerDialog:!1})},a.sideFilter=function(e,t){return o.a.createElement("div",null,o.a.createElement("div",{className:e.wrapperItem,style:{paddingRight:"0px"}},o.a.createElement("div",{className:e.alignLeft},o.a.createElement(ft.b,{id:"outlined-name",style:{width:"100%"},label:"Search",className:e.textField,value:a.state.searchQuery,onChange:a.doSearch,margin:"normal",variant:"outlined"})),o.a.createElement("br",null),o.a.createElement(Ft.a,null)),o.a.createElement("div",{className:e.wrapperItem},o.a.createElement("div",{className:e.alignLeft},o.a.createElement(Ce.a,{variant:"subheading"},"Officer Role"),o.a.createElement(ve.a,{style:{padding:"0px"},className:it()(e.expand,Object(f.a)({},e.expandOpen,a.state.expandOfficerFilters)),onClick:function(){return a.handleExpandClick("expandOfficerFilters")},"aria-expanded":a.state.expandOfficerFilters,"aria-label":"Show more"},o.a.createElement(Vt.a,null))),o.a.createElement("br",null),o.a.createElement(Ft.a,null),o.a.createElement(Jt.a,{in:a.state.expandOfficerFilters,timeout:"auto"},o.a.createElement(Lt.a,null,t)),o.a.createElement("br",null),o.a.createElement(Ft.a,null),o.a.createElement("br",null),o.a.createElement(ft.a,{style:{width:"100%"},onClick:function(){a.handleComplaintDialogOpen(a.allOfficersData)},color:"secondary",variant:"outlined"},"View All COMPLAINTS"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ft.a,{style:{width:"100%"},onClick:a.handleReceive,color:"secondary",variant:"outlined"},"RECEIVE OFFICER"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ft.a,{style:{width:"100%"},onClick:a.handleAddnewOfficer,color:"secondary",variant:"outlined"},"Add New OFFICER")))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){Object.entries(this.props).forEach(function(t){var a=Object(yt.a)(t,2),n=a[0],o=a[1];return e[n]!==o&&console.log("Prop '".concat(n,"' changed"))}),Object.entries(this.state).forEach(function(e){var a=Object(yt.a)(e,2),n=a[0],o=a[1];return t[n]!==o&&console.log("State '".concat(n,"' changed"))})}},{key:"componentWillMount",value:function(){var e=this;this.officerMap=new Map,J.map(function(e){return e[0]}).slice(0,H.indexOf(B("roadGPortalRole"))).forEach(function(t){e.officerMap.set(t,!0),console.log("balue of e"+t)}),console.log(this.officerMap),this.setState({OfficerMap:this.officerMap}),this.getTotalCountOfComplaintTypes()}},{key:"getTotalCountOfComplaintTypes",value:function(e){var t=0,a=0,n=0,o=0,l=0;void 0==e?this.state.OfficerData.forEach(function(e){console.log("Total complaints ===>"+e.complaint_data.total),t+=e.complaint_data.total,a+=e.complaint_data.pending,n+=e.complaint_data.emergency,o+=e.complaint_data.completed,l+=e.complaint_data.approved}):e.forEach(function(e){console.log("Total complaints ===>"+e.complaint_data.total),t+=e.complaint_data.total,a+=e.complaint_data.pending,n+=e.complaint_data.emergency,o+=e.complaint_data.completed,l+=e.complaint_data.approved}),console.log("total: "+t+" Pending: "+a+" Emergency: "+n+" Completed: "+o+" Approved: "+l),this.setState({tTotal:t,tPending:a,tEmergency:n,tApproved:l,tCompleted:o})}},{key:"componentDidMount",value:function(){var e=this,t=new Headers;t.append("origin","*"),t.append("auth","token "+B("roadGPortalAuth"));var a=new Request(U+"getAllJrdIds",{method:"GET",headers:t,mode:"cors"});this.setState(function(e){return{officerData:e.officerData}}),fetch(a).then(function(e){return e.json()}).then(function(t){console.table(t.data),t.data=t.data.reverse(),e.allOfficersData=t.data,t.success?(e.setState({Loading:!1,OfficerData:t.data}),e.getTotalCountOfComplaintTypes(t.data)):e.handleDialogOpen(t.data,"Error")}).catch(function(t){console.log(t),e.setState({Loading:!1}),e.handleDialogOpen(t.message,"Error")})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.rowsPerPage,l=a.page,i=n-Math.min(n,this.state.OfficerData.length-l*n),r=[];return this.state.OfficerMap.forEach(function(t,a){return r.push(o.a.createElement(Bt.a,{key:a,checked:t,value:a,onChange:e.handleChange("OfficerMap"),control:o.a.createElement(Wt.a,null),label:a}))}),o.a.createElement("div",{className:t.wrapper},o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleClose,handleDialogOpen:this.handleDialogOpen}),o.a.createElement(I,{openDialogState:this.state.sideFilterDialogOpen,dialogTitle:"Filter",dialogMsg:"",handleClose:this.sideFilterHandleClose,handleDialogOpen:this.sideFilterHandleOpen},this.sideFilter(t,r)),o.a.createElement(_.a,{fullScreen:!0,open:this.state.openReceiveOfficerDialog,onClose:this.handleReceiveOfficerDialogClose,TransitionComponent:Ln},o.a.createElement(fe.a,null,o.a.createElement(ve.a,{color:"inherit",onClick:this.handleReceiveOfficerDialogClose,"aria-label":"Close"},o.a.createElement(_t.a,null))),o.a.createElement(An,null)),o.a.createElement(_.a,{fullScreen:!0,open:this.state.openAddNewOfficerDialog,onClose:this.handleAddNewOfficerDialogClose,TransitionComponent:Ln},o.a.createElement(fe.a,null,o.a.createElement(ve.a,{color:"inherit",onClick:this.handleAddNewOfficerDialogClose,"aria-label":"Close"},o.a.createElement(_t.a,null))),o.a.createElement(In,null)),o.a.createElement(_.a,{fullScreen:!0,open:this.state.openComplaintDialogState,onClose:this.handleComplaintDialogOpen,TransitionComponent:Ln},o.a.createElement(En,{manageOfficer:!0,OfficerIdArray:this.state.OfficerIdArray,handleComplaintDialogClose:this.handleComplaintDialogClose})),o.a.createElement(_.a,{fullScreen:!0,open:this.state.openChargeDialog,onClose:this.handleChargeDialogClose,TransitionComponent:Ln},o.a.createElement(fe.a,null,o.a.createElement(ve.a,{color:"inherit",onClick:this.handleChargeDialogClose,"aria-label":"Close"},o.a.createElement(_t.a,null))),o.a.createElement(kn,{officetype:this.state.officetype,officerId:this.state.officerId,postId:this.state.postId,OnSave:this.handleChargeDialogClose,officerData:this.allOfficersData})),o.a.createElement(_.a,{fullScreen:!0,open:this.state.openOfficerDialogState,onClose:this.handleOfficerDialogClose,TransitionComponent:Ln},o.a.createElement(fe.a,null,o.a.createElement(ve.a,{color:"inherit",onClick:this.handleOfficerDialogClose,"aria-label":"Close"},o.a.createElement(_t.a,null))),o.a.createElement(an.a,{OfficerData:this.state.OfficerDialogData})),o.a.createElement(y.a,{style:{margin:"auto"}},this.state.Loading?o.a.createElement(Dt.a,{className:t.progress}):o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement(xt.a,{container:!0,spacing:8,style:{margin:"auto"}},o.a.createElement(xt.a,{item:!0,md:3,xs:12,className:t.sideFilter},this.sideFilter(t,r)),o.a.createElement(xt.a,{item:!0,md:9,xs:12},o.a.createElement(xt.a,null,o.a.createElement("div",{className:t.complaintChips},o.a.createElement("span",{style:{margin:"10px"}},o.a.createElement(vn,{type:"Total Complaints",data:this.state.tTotal})),o.a.createElement("span",{style:{margin:"10px"}},o.a.createElement(vn,{type:"Pending",data:this.state.tPending})),o.a.createElement("span",{style:{margin:"10px"}},o.a.createElement(vn,{type:"Emergency",data:this.state.tEmergency})),o.a.createElement("span",{style:{margin:"10px"}},o.a.createElement(vn,{type:"Approved",data:this.state.tApproved})),o.a.createElement("span",{style:{margin:"10px"}},o.a.createElement(vn,{type:"Completed",data:this.state.tCompleted})))),o.a.createElement(oa.a,{style:{padding:0,flex:1},component:"div",count:this.state.OfficerData.length,rowsPerPageOptions:[15,30,45],rowsPerPage:n,page:l,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement(Qt.a,null,o.a.createElement(aa.a,null,o.a.createElement(ia.a,null,o.a.createElement(ea.a,{className:t.centerStyle},"Officer Name"),o.a.createElement(ea.a,{className:t.centerStyle},"Officer Post"),o.a.createElement(ea.a,{className:t.centerStyle},"Analysis"),o.a.createElement(ea.a,{className:t.centerStyle},"Actions"))),o.a.createElement(Zt.a,null,this.state.OfficerData.slice(l*n,l*n+n).map(function(a,n){return[o.a.createElement(ia.a,{key:n},console.log("item",a),o.a.createElement(za.a,{title:a.officer_id.phoneNo},o.a.createElement(ea.a,{className:t.centerStyle},a.officer_id.name," ")),o.a.createElement(za.a,{title:a.post_id},o.a.createElement(ea.a,{className:t.centerStyle},a.office_type," ")),o.a.createElement(ea.a,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(za.a,{title:"Total Complaint"},o.a.createElement(Se.a,{className:t.avatar,style:{background:"rgba(0, 0, 255, 0.1)",color:"black"}},a.complaint_data.total)),o.a.createElement(za.a,{title:"Pending Complaint"},o.a.createElement(Se.a,{className:t.avatar,style:{background:"rgba(155, 100, 0, 0.1)",color:"black"}},a.complaint_data.pending)),o.a.createElement(za.a,{title:"Emergency Complaint"},o.a.createElement(Se.a,{className:t.avatar,style:{background:"rgba(255, 0, 0, 0.1)",color:"black"}},a.complaint_data.emergency)),o.a.createElement(za.a,{title:"Approved Complaint"},o.a.createElement(Se.a,{className:t.avatar,style:{background:"rgba(128, 203, 196, 0.4)",color:"black"}},a.complaint_data.approved)),o.a.createElement(za.a,{title:"Completed Complaint"},o.a.createElement(Se.a,{className:t.avatar,style:{background:"rgba(0, 255, 0, 0.1)",color:"black"}},a.complaint_data.completed)))),o.a.createElement(ea.a,{className:t.centerStyle},o.a.createElement(za.a,{title:"Shows complaints of selected officer"},o.a.createElement(ft.a,{onClick:function(){e.handleComplaintDialogOpen(a)},color:"secondary",size:"small",variant:"text"},"View Complaints")),o.a.createElement(za.a,{title:"Transfers Charge of selected officer"},o.a.createElement(ft.a,{onClick:function(){e.handleChargeDialogOpen(a,n)},color:"secondary",variant:"text",size:"small"},"Transfer Charge"))))]})),i>0&&o.a.createElement(ia.a,{style:{height:49*i}},o.a.createElement(ea.a,{colSpan:6})))))),o.a.createElement(ft.a,{variant:"extendedFab",color:"secondary",onClick:this.sideFilterHandleOpen,className:t.sideFilterButton},o.a.createElement(gn.a,null),"\xa0Filter"))))}}]),t}(n.Component),Bn=Object(E.withStyles)(function(e){return{wrapper:{marginTop:"50px",height:"100vh"},centerStyle:{textAlign:"center"},alignLeft:{display:"flex",justifyContent:"space-between",verticalAlign:"middle"},wrapperItem:{marginLeft:"10px",marginRight:"10px",paddingLeft:"10px",paddingRight:"10px",paddingTop:"10px",paddingBottom:"10px",textAlign:"left"},avatar:{margin:"2px",width:40,height:40},textField:{width:"100%"},sideFilter:Object(f.a)({height:"90vh",overflowY:"scroll",display:"block"},e.breakpoints.down("sm"),{display:"none"}),complaintChips:Object(f.a)({overflow:"auto",display:"flex",justifyContent:"space-around",paddingTop:"20px"},e.breakpoints.down("sm"),{display:"flex"}),sideFilterButton:Object(f.a)({position:"fixed",bottom:"20px",right:"20px",display:"none"},e.breakpoints.down("sm"),{display:"flex"})}})(Un);function Gn(e){var t=e.inputRef,a=Object(we.a)(e,["inputRef"]);return o.a.createElement("div",Object.assign({ref:t},a))}var Wn={Control:function(e){return o.a.createElement(w.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:Gn,inputProps:Object(xa.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return o.a.createElement(y.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return o.a.createElement(bn.a,{tabIndex:-1,label:e.children,className:it()(e.selectProps.classes.chip,Object(f.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:o.a.createElement(Sn.a,e.removeProps)})},NoOptionsMessage:function(e){return o.a.createElement(Ce.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return o.a.createElement(Ga.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return o.a.createElement(Ce.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return o.a.createElement(Ce.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return o.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},zn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={single:null,multi:null},a.handleChange=function(e){var t=e.map(function(e){return{label:e.value,value:e.value}});a.props.setRoadCodes(t),a.setState({multi:t})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n={input:function(e){return Object(xa.a)({},e,{color:a.palette.text.primary,"& input":{font:"inherit"}})}};return o.a.createElement("div",{className:t.root},o.a.createElement(wn.a,null,o.a.createElement(yn.a,{classes:t,styles:n,textFieldProps:{label:"Road Code",InputLabelProps:{shrink:!0}},options:this.props.options,components:Wn,value:this.state.multi,onChange:this.handleChange,placeholder:"Select Roads",isMulti:!0})))}}]),t}(o.a.Component),Vn=Object(E.withStyles)(function(e){return{root:{flexGrow:1},input:{display:"flex",padding:0},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},chipFocused:{backgroundColor:Object(xn.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},divider:{height:2*e.spacing.unit}}},{withTheme:!0})(zn),Hn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={startAnimation:!1,name:"",email:"",phoneNo:"",password:"",repassword:"",role:"",road_code:"",sr_officer_id:"",isDisabled:!1,sr_officer_list:[],roads:[]},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value)),"role"===e.target.name&&(e.target.value===H[0]?fetch(U+"roads/").then(function(e){return e.json()}).then(function(e){var t=e.data.map(function(e){return{value:e.road_code,label:e.name}});a.setState({roads:t})}).catch(function(e){console.log(e),a.handleDialogOpen("Cannot get road list","Error")}):a.setState({roads:[],road_code:""}),e.target.value!==H[H.length-1]?fetch(U+"getSeniorIds/?role="+e.target.value).then(function(e){return e.json()}).then(function(e){a.setState({sr_officer_list:e.data})}).catch(function(e){console.log(e),a.handleDialogOpen("Cannot get senior officer list","Error")}):a.setState({sr_officer_list:[],sr_officer_id:""}))},a.handlePasswordErrors=function(e){return""!==a.state.password&&a.state.password!==a.state.repassword},a.handleSave=function(e){""!==a.state.name&&""!==a.state.email&&""!==a.state.phoneNo&&""!==a.state.password&&""!==a.state.repassword&&""!==a.state.role?a.state.role!==H[0]||""!==a.state.road_code?a.state.role===H[H.length-1]||""!==a.state.sr_officer_id?(a.state.role===H[0]&&a.setState({road_code:a.state.road_code.map(function(e){return e.value})}),fetch(U+"signup/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"POST",body:JSON.stringify({name:a.state.name,email:a.state.email,phoneNo:a.state.phoneNo,password:a.state.password,role:a.state.role,road_code:a.state.road_code,srOfficerId:a.state.sr_officer_id})}).then(function(e){return e.json()}).then(function(e){e.success?(a.handleDialogOpen("Officer added successfully!","Success"),a.setState({name:"",email:"",phoneNo:"",password:"",repassword:"",role:"",road_code:"",sr_officer_id:""})):(console.error(e),alert(e.data))}).catch(function(e){a.handleDialogOpen(e.message,"Error")})):a.handleDialogOpen("Please select senior officer","Error"):a.handleDialogOpen("Please select road for officer","Error"):a.handleDialogOpen("All Fields are Cumpalsory","Error")},a.handleDialogOpen=function(e,t){a.setState({openDialog:!0,dialogMsg:e,dialogTitle:t})},a.handleClose=function(){a.setState({openDialog:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({startAnimation:!0})}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:t.wrapper},o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleClose,handleDialogOpen:this.handleDialogOpen},o.a.createElement(b.a,{onClick:this.handleClose},"OK")),o.a.createElement(y.a,{className:t.AddOfficerWrapper},o.a.createElement(fe.a,null,o.a.createElement(Ce.a,{variant:"headline",style:{textAlign:"center",width:"100%"}},"Add New Officer")),o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,xs:12,className:t.textWrapper},o.a.createElement(w.a,{id:"name",label:"Name",name:"name",className:t.textField,value:this.state.name,onChange:this.handleChange,margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:t.textWrapper},o.a.createElement(w.a,{id:"email",label:"Email",name:"email",className:t.textField,value:this.state.email,onChange:this.handleChange,margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:t.textWrapper},o.a.createElement(w.a,{id:"phoneNo",label:"Phone Number",name:"phoneNo",className:t.textField,value:this.state.phoneNo,onChange:this.handleChange,margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:t.textWrapper},o.a.createElement(w.a,{id:"password",label:"Password",name:"password",className:t.textField,value:this.state.password,onChange:this.handleChange,error:this.handlePasswordErrors(),helperText:this.state.password.length>6&&this.state.password.length<12?"":"Password length must be in 6 to 12",margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:t.textWrapper},o.a.createElement(w.a,{id:"repassword",label:"Confirm Password",name:"repassword",className:t.textField,value:this.state.repassword,onChange:this.handleChange,error:this.handlePasswordErrors(),helperText:this.state.password!==this.state.repassword?"Password not matched":"",margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,className:t.textWrapper},o.a.createElement(Ma.a,{className:t.textField},o.a.createElement(Ua.a,{htmlFor:"role"},"Role"),o.a.createElement(Ia.a,{id:"role",value:this.state.role,onChange:this.handleChange,inputProps:{name:"role",id:"role"}},H.map(function(e,t){return o.a.createElement(Ga.a,{value:e,key:t},e)})))),this.state.role===H[0]?o.a.createElement(xt.a,{item:!0,xs:12,className:t.textWrapper},o.a.createElement(Ma.a,{className:t.textField},o.a.createElement(Vn,{options:this.state.roads,setRoadCodes:function(t){e.setState({road_code:t})}}))):null,this.state.role&&this.state.role!==H[H.length-1]?o.a.createElement(xt.a,{item:!0,xs:12,className:t.textWrapper},o.a.createElement(Ma.a,{className:t.textField},o.a.createElement(Ua.a,{htmlFor:"sr_officer_id"},"Senior Officer"),o.a.createElement(Ia.a,{value:this.state.sr_officer_id,onChange:this.handleChange,inputProps:{name:"sr_officer_id",id:"sr_officer_id"}},this.state.sr_officer_list.map(function(e,t){return o.a.createElement(Ga.a,{value:e._id,key:t},e.name)})))):null),o.a.createElement("br",null),o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,xs:!0},o.a.createElement(b.a,{color:"primary",disabled:this.state.isDisabled,onClick:this.handleSave},"Save"),"\xa0",o.a.createElement(b.a,{color:"secondary",onClick:function(){e.setState({name:"",email:"",phoneNo:"",password:"",repassword:"",role:"",road_code:"",sr_officer_id:""})}},"Reset")))))}}]),t}(n.Component),Jn=Object(E.withStyles)(function(e){return{wrapper:{width:"100vw",height:"100vh",display:"flex",textAlign:"center"},textWrapper:{padding:"10px"},textField:{width:"100%",textAlign:"left"},AddOfficerWrapper:Object(f.a)({margin:"auto",padding:"10px"},e.breakpoints.up("sm"),{width:"50%"}),road_code_field:{border:"none",borderBottom:"2px solid gray",outline:"none"}}},{withTheme:!0})(Hn),Yn=(Object(E.withStyles)(function(e){return{root:{borderBottom:"1px solid ".concat(e.palette.divider),margin:0,padding:2*e.spacing.unit},closeButton:{position:"absolute",right:e.spacing.unit,top:e.spacing.unit,color:e.palette.grey[500]}}})(function(e){var t=e.children,a=e.classes,n=e.onClose;return o.a.createElement(F.a,{disableTypography:!0,className:a.root},o.a.createElement(Ce.a,{variant:"h6"},t),n?o.a.createElement(ve.a,{"aria-label":"Close",className:a.closeButton,onClick:n},o.a.createElement(_t.a,null)):null)}),Object(E.withStyles)(function(e){return{root:{margin:0,padding:2*e.spacing.unit}}})(A.a),Object(E.withStyles)(function(e){return{root:{borderTop:"1px solid ".concat(e.palette.divider),margin:0,padding:e.spacing.unit}}})(k.a),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={startAnimation:!1,openUpdateDialog:!0,id:"",name:"",email:"",phoneNo:"",password:"",newPassword:"",confirmNewPassword:"",validPhoneNo:!0,changed:!1,openDialog:!1},a.handleChange=function(e){a.setState(Object(f.a)({changed:!0},e.target.id,e.target.value))},a.handlePasswordErrors=function(e){return""!==a.state.newPassword&&a.state.newPassword!==a.state.confirmNewPassword},a.handleSave=function(){a.setState({changed:!1}),a.state.validPhoneNo?a.handlePasswordErrors()?a.handleDialogOpen("Please check your password","Error"):fetch(U+"updateProfile/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"POST",body:JSON.stringify({name:a.state.name,email:a.state.email,phoneNo:a.state.phoneNo,password:a.state.password,newPassword:a.state.newPassword})}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?(a.handleDialogOpen(e.data,"Success"),a.componentWillMount()):(a.handleDialogOpen(e.data,"Error"),a.setState({changed:!0}))}).catch(function(e){console.log(e),a.handleDialogOpen(e+"","Error"),a.setState({changed:!0})}):a.handleDialogOpen("Please check your phone number","Error")},a.handleDialogOpen=function(e,t){a.setState({openDialog:!0,dialogMsg:e,dialogTitle:t})},a.handleDialogClose=function(){a.setState({openDialog:!1})},a.handleClose=function(){a.setState({openUpdateDialog:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch(U+"getUserInfo/",{headers:{Accept:"application/json","Content-Type":"application/json",auth:"token "+B("roadGPortalAuth")},method:"GET"}).then(function(e){return e.json()}).then(function(t){t.success?(G("isUpdated","false","1"),e.setState(Object(xa.a)({},t.data))):console.error(t)}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.setState({startAnimation:!0})}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:t.wrapper},o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleDialogClose,handleDialogOpen:this.handleDialogOpen},o.a.createElement(b.a,{onClick:this.handleDialogClose},"Ok")),o.a.createElement(y.a,{className:t.ProfileWrapper},o.a.createElement(fe.a,null,o.a.createElement(Ce.a,{variant:"headline",style:{textAlign:"center",width:"100%"}},"Update Profile Here")),o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,xs:12,className:t.textWrapper},o.a.createElement(w.a,{id:"name",label:"Name",className:t.textField,value:this.state.name,onChange:this.handleChange,margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:t.textWrapper},o.a.createElement(w.a,{id:"email",label:"Email",className:t.textField,value:this.state.email,onChange:this.handleChange,margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:t.textWrapper},o.a.createElement(w.a,{id:"phoneNo",label:"Phone Number",type:"number",className:t.textField,value:this.state.phoneNo,onChange:function(t){e.handleChange(t),10!=t.target.value.length?e.setState({validPhoneNo:!1}):e.setState({validPhoneNo:!0})},helperText:this.state.validPhoneNo?"":"Please enter valid phone no",margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,className:t.textWrapper},o.a.createElement(w.a,{id:"password",label:"Old Password",className:t.textField,value:this.state.password,type:"password",onChange:this.handleChange,margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:t.textWrapper},o.a.createElement(w.a,{id:"newPassword",label:"New Password",className:t.textField,value:this.state.newPassword,type:"password",onChange:this.handleChange,error:this.handlePasswordErrors(),helperText:this.state.newPassword.length>6&&this.state.newPassword.length<12?"":"Password length must be in 6 to 12",margin:"none"})),o.a.createElement(xt.a,{item:!0,xs:12,md:6,className:t.textWrapper},o.a.createElement(w.a,{id:"confirmNewPassword",label:"Confirm New Password",className:t.textField,value:this.state.confirmNewPassword,type:"password",onChange:this.handleChange,error:this.handlePasswordErrors(),helperText:this.state.newPassword!==this.state.confirmNewPassword?"Password not matched":"",margin:"none"}))),o.a.createElement("br",null),o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,xs:!0},o.a.createElement(b.a,{color:"primary",disabled:!this.state.changed,onClick:this.handleSave},"Save"),"\xa0",o.a.createElement(b.a,{color:"secondary",onClick:function(){G("roadGPortalAuth",{},-1),G("firstTimeLogin",!1,-1),window.location.reload()}},"Logout")))))}}]),t}(n.Component)),qn=Object(E.withStyles)(function(e){return{wrapper:{width:"100vw",height:"100vh",display:"flex"},textWrapper:{padding:"10px"},textField:{width:"100%"},ProfileWrapper:Object(f.a)({margin:"auto",textAlign:"center",padding:"20px"},e.breakpoints.up("sm"),{width:"40%"})}})(Yn),Kn=a(129),Qn=a.n(Kn),Xn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={navBarItems:[{name:"My Complaints",path:"/Dashboard/Complaints/Table",icon:oe.a},{name:"Maps",path:"/Dashboard/Complaints/Maps",icon:se.a}].concat(Object(ee.a)(B("roadGPortalRole")!==H[0]?[{name:"All Complaints & Manage Officer",path:"/Dashboard/ManageOfficer",icon:ie.a}]:[]),[{name:"Profile",path:"/Dashboard/Profile",icon:pe.a}])},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){console.log(this.props);var e=this.props.classes;return o.a.createElement("div",{className:e.wrapper},o.a.createElement(Qe,{navBarItems:this.state.navBarItems}),o.a.createElement(te.CacheSwitch,null,o.a.createElement(ae.a,{exact:!0,path:"/Dashboard/",render:function(){return o.a.createElement(vt,null)}}),o.a.createElement(ae.a,{exact:!0,path:"/Dashboard/Complaints/*",render:function(e){return o.a.createElement(En,e.location.state)}}),o.a.createElement(ae.a,{exact:!0,path:"/Dashboard/ManageOfficer",render:function(){return o.a.createElement(Bn,null)}}),o.a.createElement(ae.a,{exact:!0,path:"/Dashboard/AddOfficer",render:function(){return o.a.createElement(Jn,null)}}),o.a.createElement(ae.a,{exact:!0,path:"/Dashboard/Profile",render:function(){return o.a.createElement(qn,null)}}),o.a.createElement(ae.a,{path:"/Dashboard/*"},o.a.createElement(m.a,{to:"/Dashboard/"}))))}}]),t}(n.Component),Zn=Object(E.withStyles)(function(e){return{wrapper:Object(f.a)({backgroundImage:"url(".concat(Qn.a,")"),backgroundSize:"cover",backgroundPosition:"bottom"},e.breakpoints.down("sm"),{backgroundImage:"url(".concat(Qn.a,")"),backgroundPosition:"-250px 20px"}),backgr:{position:"absolute",height:"100vh",width:"100vw",top:"0px",left:"0px",right:"0px",zIndex:"-9"},bgImage:{position:"absolute",height:"100vh",width:"100vw",top:"0px",left:"0px"}}})(Xn),$n=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={startAnimation:!1,cardData:[{name:"Manage",icon:Ze.a,color:"primary"},{name:"Profile",icon:et.a,color:"alert"}]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({startAnimation:!0})}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.wrapper,style:{textAlign:"center"}},o.a.createElement("div",{style:{margin:"auto"}},o.a.createElement(xt.a,{container:!0,style:{margin:"auto"}},o.a.createElement(xt.a,{item:!0,xs:12,md:!0},o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,xs:6},o.a.createElement(ut,{startAnimation:this.state.startAnimation,CardIcon:this.state.cardData[0].icon,CardName:this.state.cardData[0].name,CardValue:this.state.cardData[0].value,CardColor:this.state.cardData[0].color,fromAdmin:!0,link:"/Admin/Manage"})),o.a.createElement(xt.a,{item:!0,xs:6},o.a.createElement(ut,{startAnimation:this.state.startAnimation,CardIcon:this.state.cardData[1].icon,CardName:this.state.cardData[1].name,CardValue:this.state.cardData[1].value,CardColor:this.state.cardData[1].color,fromAdmin:!0,link:"/Admin/Profile"})))))))}}]),t}(n.Component),eo=(Object(E.withStyles)(function(e){return{wrapper:Object(f.a)({width:"100vw",height:"100vh",display:"flex"},e.breakpoints.down("sm"),{marginTop:"-66px"})}})($n),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={_id:"",open:!1,duration:0,update:!1,page:0,rowsPerPage:5,lists:[]},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleClose=function(){a.setState({open:!1})},a.handleDialougeOpen=function(){a.setState({open:!0})},a.handleAdd=function(e){a.setState({update:!1,name:"",duration:0}),a.handleDialougeOpen()},a.handlePush=function(){a.state.update?fetch(U+"manage/grienvances/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({_id:a.state._id,name:a.state.name,duration:String(a.state.duration)})}).then(function(e){return e.json()}).then(function(e){e.success?(a.read(),a.handleClose()):(console.log("Err",e.data),alert(e.data))}).catch(function(e){console.log("new errre",e)}):fetch(U+"manage/grienvances/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:a.state.name,duration:String(a.state.duration)})}).then(function(e){return e.json()}).then(function(e){e.success?(a.setState({lists:[].concat(Object(ee.a)(a.state.lists),[{_id:Math.floor(1e3*Math.random()),name:a.state.name,duration:a.state.duration}])}),a.handleClose()):(console.log("Err",e.data),alert(e.data))}).catch(function(e){console.log("new errre",e)})},a.handleUpdate=function(e){a.setState({update:!0,_id:e._id,name:e.name,duration:e.duration}),a.handleDialougeOpen()},a.handleDelete=function(e){fetch(U+"manage/grienvances/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE",body:JSON.stringify({_id:e._id})}).then(function(e){return e.json()}).then(function(t){t.success?a.setState({lists:a.state.lists.filter(function(t){return t._id!=e._id})}):(console.log("Err",t.data),alert(t.data))}).catch(function(e){console.log("new errre",e)})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"read",value:function(){var e=this;fetch(U+"manage/grienvances/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then(function(e){return e.json()}).then(function(t){t.success?e.setState({lists:t.data}):(console.log("Err",t.data),alert(t.data))}).catch(function(e){console.log("new errre",e)})}},{key:"componentWillMount",value:function(){this.read()}},{key:"render",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.page,l=a-Math.min(a,10-n*a),i=this.props.classes;return o.a.createElement("div",{className:i.wrapper},o.a.createElement(_.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(F.a,{id:"form-dialog-title"},this.state.update?"Update":"Add"," Girevance Type"),o.a.createElement(A.a,null,o.a.createElement(w.a,{margin:"dense",id:"name",label:"Grievance Name",type:"text",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})},fullWidth:!0}),o.a.createElement(w.a,{margin:"dense",id:"duration",label:"Duration(in days)",value:this.state.duration,onChange:function(t){e.setState({duration:t.target.value})},type:"number",fullWidth:!0})),o.a.createElement(k.a,null,o.a.createElement(b.a,{onClick:this.handleClose,color:"primary"},"Cancel"),o.a.createElement(b.a,{onClick:this.handlePush,color:"primary"},this.state.update?"Update":"Add"))),o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement(Qt.a,null,o.a.createElement(aa.a,null,o.a.createElement(ia.a,null,o.a.createElement(ea.a,null,"index"),o.a.createElement(ea.a,null,"Girevance Name"),o.a.createElement(ea.a,null,"Estimated Duration(in days)"),o.a.createElement(ea.a,null,o.a.createElement(b.a,{variant:"raised",size:"small",color:"secondary",onClick:function(){e.handleAdd()}},"Add")))),o.a.createElement(Zt.a,null,this.state.lists.slice(n*a,n*a+a).map(function(t,l){return o.a.createElement(ia.a,{key:l},o.a.createElement(ea.a,{component:"th"},n*a+l+1),o.a.createElement(ea.a,null,t.name),o.a.createElement(ea.a,null,t.duration),o.a.createElement(ea.a,null,o.a.createElement(b.a,{onClick:function(){e.handleUpdate(t)},color:"primary",variant:"text",size:"small"},"update"),o.a.createElement(b.a,{onClick:function(){e.handleDelete(t)},color:"secondary",variant:"text",size:"small"},"delete")))}),l>0&&o.a.createElement(ia.a,{style:{height:49*l}},o.a.createElement(ea.a,{colSpan:6}))))),o.a.createElement(fe.a,null,o.a.createElement(oa.a,{style:{padding:0,flex:1},component:"div",count:this.state.lists.length,rowsPerPageOptions:[5],rowsPerPage:a,page:n,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})))}}]),t}(n.Component)),to=(Object(E.withStyles)(function(e){return{}})(eo),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={_id:"",open:!1,update:!1,page:0,rowsPerPage:5,lists:[]},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleClose=function(){a.setState({open:!1})},a.handleDialougeOpen=function(){a.setState({open:!0})},a.handleAdd=function(e){a.setState({update:!1,name:""}),a.handleDialougeOpen()},a.handlePush=function(){a.state.update?fetch(U+"manage/rejections/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({_id:a.state._id,name:a.state.name})}).then(function(e){return e.json()}).then(function(e){e.success?(a.read(),a.handleClose()):(console.log("Err",e.data),alert(e.data))}).catch(function(e){console.log("new errre",e)}):fetch(U+"manage/rejections/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:a.state.name})}).then(function(e){return e.json()}).then(function(e){e.success?(a.read(),a.handleClose()):(console.log(e),console.log("Err",e.data),alert(e.data))}).catch(function(e){console.log("new errre",e)})},a.handleUpdate=function(e){console.log(e,Object.keys(e)),a.setState({update:!0,_id:e._id,name:e.name}),a.handleDialougeOpen()},a.handleDelete=function(e){fetch(U+"manage/rejections/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE",body:JSON.stringify({_id:e._id})}).then(function(e){return e.json()}).then(function(t){t.success?a.setState({lists:a.state.lists.filter(function(t){return t._id!=e._id})}):(console.log("Err",t.data),alert(t.data))}).catch(function(e){console.log("new errre",e)})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"read",value:function(){var e=this;fetch(U+"manage/rejections/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then(function(e){return e.json()}).then(function(t){t.success?e.setState({lists:t.data}):(console.log("Err",t.data),alert(t.data))}).catch(function(e){console.log("new errre",e)})}},{key:"componentWillMount",value:function(){this.read()}},{key:"render",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.page,l=a-Math.min(a,10-n*a),i=this.props.classes;return o.a.createElement("div",{className:i.wrapper},o.a.createElement(_.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(F.a,{id:"form-dialog-title"},this.state.update?"Update":"Add"," Reason"),o.a.createElement(A.a,null,o.a.createElement(w.a,{margin:"dense",id:"name",label:"Rejection Reason",type:"text",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})},fullWidth:!0})),o.a.createElement(k.a,null,o.a.createElement(b.a,{onClick:this.handleClose,color:"primary"},"Cancel"),o.a.createElement(b.a,{onClick:this.handlePush,color:"primary"},this.state.update?"Update":"Add"))),o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement(Qt.a,null,o.a.createElement(aa.a,null,o.a.createElement(ia.a,null,o.a.createElement(ea.a,null,"index"),o.a.createElement(ea.a,null,"Rejection Reason"),o.a.createElement(ea.a,null,o.a.createElement(b.a,{variant:"raised",size:"small",color:"secondary",onClick:function(){e.handleAdd()}},"Add")))),o.a.createElement(Zt.a,null,this.state.lists.slice(n*a,n*a+a).map(function(t,l){return o.a.createElement(ia.a,{key:l},o.a.createElement(ea.a,{component:"th"},n*a+l+1),o.a.createElement(ea.a,null,t.name),o.a.createElement(ea.a,null,o.a.createElement(b.a,{onClick:function(){e.handleUpdate(t)},color:"primary",variant:"text",size:"small"},"update"),o.a.createElement(b.a,{onClick:function(){e.handleDelete(t)},color:"secondary",variant:"text",size:"small"},"delete")))}),l>0&&o.a.createElement(ia.a,{style:{height:49*l}},o.a.createElement(ea.a,{colSpan:6}))))),o.a.createElement(fe.a,null,o.a.createElement(oa.a,{style:{padding:0,flex:1},component:"div",count:this.state.lists.length,rowsPerPageOptions:[5],rowsPerPage:a,page:n,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})))}}]),t}(n.Component)),ao=(Object(E.withStyles)(function(e){return{}})(to),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={updateDialogOpen:!1,update:!1,currentPage:0,rowsPerPage:5,lists:[]},a.handleAdd=function(e){var t={};a.props.columns.map(function(e){return t[e.api]=""}),a.setState(Object(xa.a)({update:!1,updateDialogOpen:!0},t))},a.handleUpdate=function(e){console.log(e,Object.keys(e)),a.setState(Object(xa.a)({update:!0,updateDialogOpen:!0},e))},a.handlePush=Object(ja.a)(_a.a.mark(function e(){var t;return _a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.state.update){e.next=7;break}return e.next=4,fetch(U+a.props.crudUrl,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(a.state)});case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,fetch(U+a.props.crudUrl,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(a.state)});case 9:t=e.sent;case 10:return e.next=12,t.json();case 12:(t=e.sent).success?(a.handleUpdateDialogClose(),a.handleFetchAll()):(console.log("Err",t),alert(t.data)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case 20:case"end":return e.stop()}},e,null,[[0,16]])})),a.handleDelete=function(e){fetch(U+a.props.crudUrl,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE",body:JSON.stringify({_id:e._id})}).then(function(e){return e.json()}).then(function(t){t.success?a.setState({lists:a.state.lists.filter(function(t){return t._id!=e._id})}):(console.log("Err",t.data),alert(t.data))}).catch(function(e){console.log("new errre",e)})},a.handleUpdateDialogClose=function(){a.setState({updateDialogOpen:!1})},a.handleDialogOpen=function(){a.setState({updateDialogOpen:!0})},a.handleChangePage=function(e,t){a.setState({currentPage:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleFetchAll",value:function(){var e=this;fetch(U+this.props.crudUrl,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then(function(e){return e.json()}).then(function(t){t.success?e.setState({lists:t.data}):(console.log("Err",t.data),alert(t.data))}).catch(function(e){console.log("new errre",e)})}},{key:"componentWillMount",value:function(){this.handleFetchAll()}},{key:"render",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.currentPage,l=a-Math.min(a,10-n*a);return o.a.createElement("div",null,o.a.createElement(_.a,{open:this.state.updateDialogOpen,onClose:this.handleUpdateDialogClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(F.a,{id:"form-dialog-title"},this.state.update?"Update":"Add"," ",this.props.tableName),o.a.createElement(A.a,null,this.props.columns.map(function(t){return o.a.createElement(w.a,{margin:"dense",id:"name",label:t.name,disabled:!1|(e.state.update&&t.disable),type:t.type,value:e.state[t.api]?e.state[t.api]:"",onChange:function(a){e.setState(Object(f.a)({},t.api,a.target.value))},fullWidth:!0})})),o.a.createElement(k.a,null,o.a.createElement(b.a,{onClick:this.handleUpdateDialogClose,color:"primary"},"Cancel"),o.a.createElement(b.a,{onClick:this.handlePush,color:"primary"},this.state.update?"Update":"Add"))),o.a.createElement("div",{style:{overflowX:"auto"}},o.a.createElement(Qt.a,null,o.a.createElement(aa.a,null,o.a.createElement(ia.a,null,o.a.createElement(ea.a,null,"index"),this.props.columns.map(function(e){return o.a.createElement(ea.a,null,e.name)}),o.a.createElement(ea.a,null,o.a.createElement(b.a,{variant:"raised",size:"small",color:"secondary",onClick:function(){e.handleAdd()}},"Add")))),o.a.createElement(Zt.a,null,this.state.lists.slice(n*a,n*a+a).map(function(t,l){return o.a.createElement(ia.a,{key:l},o.a.createElement(ea.a,{component:"th"},n*a+l+1),e.props.columns.map(function(e){return o.a.createElement(ea.a,null,t[e.api])}),o.a.createElement(ea.a,null,o.a.createElement(b.a,{onClick:function(){e.handleUpdate(t)},color:"primary",variant:"text",size:"small"},"update"),o.a.createElement(b.a,{onClick:function(){e.handleDelete(t)},color:"secondary",variant:"text",size:"small"},"delete")))}),l>0&&o.a.createElement(ia.a,{style:{height:49*l}},o.a.createElement(ea.a,{colSpan:6}))))),o.a.createElement(fe.a,null,o.a.createElement(oa.a,{style:{padding:0,flex:1},component:"div",count:this.state.lists.length,rowsPerPageOptions:[5],rowsPerPage:a,page:n,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})))}}]),t}(n.Component)),no=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={value:0},a.handleChange=function(e,t){a.setState({value:t})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.value;return o.a.createElement("div",{className:e.wrapper},o.a.createElement(y.a,{className:e.ManageWrapper},o.a.createElement(he.a,{position:"static",textColor:"primary",style:{background:"white",color:"black"}},o.a.createElement(Na.a,{value:t,onChange:this.handleChange,centered:!0},o.a.createElement(Ta.a,{label:"Manage Grievances"}),o.a.createElement(Ta.a,{label:"Manage Rejection Reasons"}),o.a.createElement(Ta.a,{label:"Manage Roads"}))),0===t&&o.a.createElement(ao,{tableName:"Grievances",crudUrl:"manage/grienvances/",columns:[{name:"Name",api:"name"},{name:"Duration",api:"duration"}]}),1===t&&o.a.createElement(ao,{tableName:"Road",crudUrl:"manage/rejections/",columns:[{name:"Rejection Reason",api:"name"}]}),2===t&&o.a.createElement(ao,{tableName:"Road",crudUrl:"manage/roads/",columns:[{name:"Road Name",api:"name"},{name:"Road Code",api:"road_code",disable:!0},{name:"Road Division",api:"division"},{name:"Road District",api:"district"}]})))}}]),t}(n.Component),oo=Object(E.withStyles)(function(e){return{wrapper:{width:"100vw",minHeight:"100vh",display:"flex"},ManageWrapper:Object(f.a)({margin:"100px auto auto auto",textAlign:"center"},e.breakpoints.up("sm"),{width:"70%"})}})(no),lo=[{name:"Manage",path:"/Admin/Manage",icon:oe.a},{name:"Profile",path:"/Admin/Profile",icon:pe.a}],io=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={loginTab:!0},a.toLoginTab=function(){a.setState({loginTab:!0})},a.toForgotPassTab=function(){a.setState({loginTab:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.wrapper},o.a.createElement(Qe,{navBarItems:lo}),o.a.createElement(h.a,null,o.a.createElement(g.a,{exact:!0,path:"/Admin/",render:function(){return o.a.createElement(oo,null)}}),o.a.createElement(g.a,{exact:!0,path:"/Admin/Manage/",render:function(){return o.a.createElement(oo,null)}}),o.a.createElement(g.a,{exact:!0,path:"/Admin/AddOfficer/",render:function(){return o.a.createElement(Jn,null)}}),o.a.createElement(g.a,{exact:!0,path:"/Admin/Profile",render:function(){return o.a.createElement(qn,null)}}),o.a.createElement(g.a,{path:"/Admin/*"},o.a.createElement(m.a,{to:"/Admin/Manage"}))))}}]),t}(n.Component),ro=Object(E.withStyles)(function(e){return{wrapper:{backgroundImage:"url(".concat(Qn.a,")"),backgroundSize:"cover",backgroundPosition:"top"}}})(io),so=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={openDialog:!1,newPassword:"",confirmPassword:"",toLogin:!1,reset_name:"Reset Password"},a.handleDialogOpen=function(e,t){a.setState({openDialog:!0,dialogMsg:e,dialogTitle:t})},a.handleClose=function(){a.setState({openDialog:!1}),a.state.toLogin&&a.props.history.push("/")},a.handleNewPassword=function(e){a.setState({newPassword:e.target.value})},a.handleConfirmPassword=function(e){a.setState({confirmPassword:e.target.value})},a.handleReset=function(){console.log(a.props.match),a.state.newPassword.length>5?a.state.confirmPassword===a.state.newPassword?(a.setState({reset_name:"PLEASE WAIT"}),fetch(U+"verifyForgotPassword/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({password:a.state.newPassword,token:a.props.match.params.id})}).then(function(e){return e.json()}).then(function(e){a.setState({toLogin:!0,reset_name:"Reset Password"}),e.success?a.handleDialogOpen("Your password has been changed successfully !"):a.handleDialogOpen(e.data,"Error")}).catch(function(e){a.setState({toLogin:!0,reset_name:"Reset Password"}),console.log(e),a.handleDialogOpen(e,"Please try again later ")})):a.handleDialogOpen("New Password and Confirm Password is not same ","Error"):a.handleDialogOpen("Password must contain 6 charachters","Error")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.wrapper},o.a.createElement(I,{openDialogState:this.state.openDialog,dialogTitle:this.state.dialogTitle,dialogMsg:this.state.dialogMsg,handleClose:this.handleClose,handleDialogOpen:this.handleDialogOpen},o.a.createElement(b.a,{onClick:this.handleClose},"OK")),o.a.createElement(y.a,{style:{margin:"auto",padding:"20px 50px 50px 50px"}},o.a.createElement("div",null,o.a.createElement(ft.d,{variant:"headline",style:{textTransform:"capitalize",textAlign:"center",margin:"0px 0px 20px 0px"}},"Reset your password here")),o.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement(w.a,{id:"password",name:"password",label:"New Password",value:this.state.newPassword,type:"password",className:e.textField,margin:"small",onChange:this.handleNewPassword})),o.a.createElement("div",null,o.a.createElement(w.a,{id:"confirmPassword",label:"Confirm Password",type:"password",value:this.state.confirmPassword,className:e.textField,margin:"small",onChange:this.handleConfirmPassword})),o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement(b.a,{disabled:"Reset Password"!=this.state.reset_name,type:"submit",variant:"contained",onClick:this.handleReset,color:"primary",className:e.loginBtn},this.state.reset_name)))))}}]),t}(n.Component),co=Object(E.withStyles)(function(e){return{Card:{margin:"auto",textAlign:"center",minWidth:"320px"},logoWrapper:{position:"relative",textAlign:"center"},logo:{width:"70px",height:"auto"},loginBtn:{marginTop:"20px",width:"100%"},forgotPasswordBtn:{marginTop:"20px",width:"200px"},textField:{width:"100%"},wrapper:{width:"100vw",height:"100vh",display:"flex"}}})(so),po=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).setLogin=function(e){a.setState({isLoggedIn:!0,userType:e})},a.checkLoginStatus=function(){if(a.state.isLoggedIn){if("officer"===a.state.userType)return o.a.createElement(m.a,{to:"/"});if("admin"===a.state.userType)return o.a.createElement(m.a,{to:"/Admin"})}return o.a.createElement($,{setLogin:a.setLogin})},a.redirectIfNotLoggedInOfficer=function(){return a.state.isLoggedIn&&"officer"===a.state.userType?o.a.createElement(Zn,null):o.a.createElement(m.a,{to:"/Login"})},a.redirectIfNotLoggedInAdmin=function(){return a.state.isLoggedIn&&"admin"===a.state.userType?o.a.createElement(ro,null):o.a.createElement(m.a,{to:"/Login"})},a.handlereset=function(){return o.a.createElement(co,null)};var n=B("roadGPortalAuth"),l=B("roadGPortalUserType");return a.state=-1!==n&&-1!==l?{isLoggedIn:!0,userType:l,token:n}:{isLoggedIn:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(u.a,null,o.a.createElement("div",null,o.a.createElement(h.a,null,o.a.createElement(g.a,{exact:!0,path:"/Resetpassword/:id",render:function(e){return o.a.createElement(co,e)}}),o.a.createElement(g.a,{exact:!0,path:"/Login",render:this.checkLoginStatus}),o.a.createElement(g.a,{exact:!0,path:"/Dashboard*",render:this.redirectIfNotLoggedInOfficer}),o.a.createElement(g.a,{path:"/Admin",render:this.redirectIfNotLoggedInAdmin}),o.a.createElement(g.a,{path:"/"},o.a.createElement(m.a,{to:"/Dashboard/"})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var mo=a(196),uo=a.n(mo),ho=Object(E.createMuiTheme)({palette:{primary:{main:"#263238"},secondary:{main:"#a0a0ff"}}});i.a.render(o.a.createElement(uo.a,{theme:ho},o.a.createElement(po,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[294,2,1]]]);
//# sourceMappingURL=main.1dac331a.chunk.js.map